!function(a){if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Quill=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};a[g][0].call(j.exports,function(b){var c=a[g][1][b];return e(c?c:b)},j,j.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],"x/3aRz":[function(b,c,d){(function(b){!function(b){function c(){this._events={},this._conf&&d.call(this,this._conf)}function d(a){a&&(this._conf=a,a.delimiter&&(this.delimiter=a.delimiter),a.maxListeners&&(this._events.maxListeners=a.maxListeners),a.wildcard&&(this.wildcard=a.wildcard),a.newListener&&(this.newListener=a.newListener),this.wildcard&&(this.listenerTree={}))}function e(a){this._events={},this.newListener=!1,d.call(this,a)}function f(a,b,c,d){if(!c)return[];var e,g,h,i,j,k,l,m=[],n=b.length,o=b[d],p=b[d+1];if(d===n&&c._listeners){if("function"==typeof c._listeners)return a&&a.push(c._listeners),[c];for(e=0,g=c._listeners.length;g>e;e++)a&&a.push(c._listeners[e]);return[c]}if("*"===o||"**"===o||c[o]){if("*"===o){for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&(m=m.concat(f(a,b,c[h],d+1)));return m}if("**"===o){l=d+1===n||d+2===n&&"*"===p,l&&c._listeners&&(m=m.concat(f(a,b,c,n)));for(h in c)"_listeners"!==h&&c.hasOwnProperty(h)&&("*"===h||"**"===h?(c[h]._listeners&&!l&&(m=m.concat(f(a,b,c[h],n))),m=m.concat(f(a,b,c[h],d))):m=m.concat(h===p?f(a,b,c[h],d+2):f(a,b,c[h],d)));return m}m=m.concat(f(a,b,c[o],d+1))}if(i=c["*"],i&&f(a,b,i,d+1),j=c["**"])if(n>d){j._listeners&&f(a,b,j,n);for(h in j)"_listeners"!==h&&j.hasOwnProperty(h)&&(h===p?f(a,b,j[h],d+2):h===o?f(a,b,j[h],d+1):(k={},k[h]=j[h],f(a,b,{"**":k},d+1)))}else j._listeners?f(a,b,j,n):j["*"]&&j["*"]._listeners&&f(a,b,j["*"],n);return m}function g(a,b){a="string"==typeof a?a.split(this.delimiter):a.slice();for(var c=0,d=a.length;d>c+1;c++)if("**"===a[c]&&"**"===a[c+1])return;for(var e=this.listenerTree,f=a.shift();f;){if(e[f]||(e[f]={}),e=e[f],0===a.length){if(e._listeners){if("function"==typeof e._listeners)e._listeners=[e._listeners,b];else if(h(e._listeners)&&(e._listeners.push(b),!e._listeners.warned)){var g=i;"undefined"!=typeof this._events.maxListeners&&(g=this._events.maxListeners),g>0&&e._listeners.length>g&&(e._listeners.warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",e._listeners.length),console.trace())}}else e._listeners=b;return!0}f=a.shift()}return!0}var h=Array.isArray?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},i=10;e.prototype.delimiter=".",e.prototype.setMaxListeners=function(a){this._events||c.call(this),this._events.maxListeners=a,this._conf||(this._conf={}),this._conf.maxListeners=a},e.prototype.event="",e.prototype.once=function(a,b){return this.many(a,1,b),this},e.prototype.many=function(a,b,c){function d(){0===--b&&e.off(a,d),c.apply(this,arguments)}var e=this;if("function"!=typeof c)throw new Error("many only accepts instances of Function");return d._origin=c,this.on(a,d),e},e.prototype.emit=function(){this._events||c.call(this);var a=arguments[0];if("newListener"===a&&!this.newListener&&!this._events.newListener)return!1;if(this._all){for(var b=arguments.length,d=new Array(b-1),e=1;b>e;e++)d[e-1]=arguments[e];for(e=0,b=this._all.length;b>e;e++)this.event=a,this._all[e].apply(this,d)}if("error"===a&&!(this._all||this._events.error||this.wildcard&&this.listenerTree.error))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");var g;if(this.wildcard){g=[];var h="string"==typeof a?a.split(this.delimiter):a.slice();f.call(this,g,h,this.listenerTree,0)}else g=this._events[a];if("function"==typeof g){if(this.event=a,1===arguments.length)g.call(this);else if(arguments.length>1)switch(arguments.length){case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:for(var b=arguments.length,d=new Array(b-1),e=1;b>e;e++)d[e-1]=arguments[e];g.apply(this,d)}return!0}if(g){for(var b=arguments.length,d=new Array(b-1),e=1;b>e;e++)d[e-1]=arguments[e];for(var i=g.slice(),e=0,b=i.length;b>e;e++)this.event=a,i[e].apply(this,d);return i.length>0||this._all}return this._all},e.prototype.on=function(a,b){if("function"==typeof a)return this.onAny(a),this;if("function"!=typeof b)throw new Error("on only accepts instances of Function");if(this._events||c.call(this),this.emit("newListener",a,b),this.wildcard)return g.call(this,a,b),this;if(this._events[a]){if("function"==typeof this._events[a])this._events[a]=[this._events[a],b];else if(h(this._events[a])&&(this._events[a].push(b),!this._events[a].warned)){var d=i;"undefined"!=typeof this._events.maxListeners&&(d=this._events.maxListeners),d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace())}}else this._events[a]=b;return this},e.prototype.onAny=function(a){if(this._all||(this._all=[]),"function"!=typeof a)throw new Error("onAny only accepts instances of Function");return this._all.push(a),this},e.prototype.addListener=e.prototype.on,e.prototype.off=function(a,b){if("function"!=typeof b)throw new Error("removeListener only takes instances of Function");var c,d=[];if(this.wildcard){var e="string"==typeof a?a.split(this.delimiter):a.slice();d=f.call(this,null,e,this.listenerTree,0)}else{if(!this._events[a])return this;c=this._events[a],d.push({_listeners:c})}for(var g=0;g<d.length;g++){var i=d[g];if(c=i._listeners,h(c)){for(var j=-1,k=0,l=c.length;l>k;k++)if(c[k]===b||c[k].listener&&c[k].listener===b||c[k]._origin&&c[k]._origin===b){j=k;break}if(0>j)continue;return this.wildcard?i._listeners.splice(j,1):this._events[a].splice(j,1),0===c.length&&(this.wildcard?delete i._listeners:delete this._events[a]),this}(c===b||c.listener&&c.listener===b||c._origin&&c._origin===b)&&(this.wildcard?delete i._listeners:delete this._events[a])}return this},e.prototype.offAny=function(a){var b,c=0,d=0;if(a&&this._all&&this._all.length>0){for(b=this._all,c=0,d=b.length;d>c;c++)if(a===b[c])return b.splice(c,1),this}else this._all=[];return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=function(a){if(0===arguments.length)return!this._events||c.call(this),this;if(this.wildcard)for(var b="string"==typeof a?a.split(this.delimiter):a.slice(),d=f.call(this,null,b,this.listenerTree,0),e=0;e<d.length;e++){var g=d[e];g._listeners=null}else{if(!this._events[a])return this;this._events[a]=null}return this},e.prototype.listeners=function(a){if(this.wildcard){var b=[],d="string"==typeof a?a.split(this.delimiter):a.slice();return f.call(this,b,d,this.listenerTree,0),b}return this._events||c.call(this),this._events[a]||(this._events[a]=[]),h(this._events[a])||(this._events[a]=[this._events[a]]),this._events[a]},e.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof a&&a.amd?a(function(){return e}):b.EventEmitter2=e}("undefined"!=typeof b&&"undefined"!=typeof b.title&&"undefined"!=typeof d?d:window)}).call(this,b("FWaASH"))},{FWaASH:1}],eventemitter2:[function(a,b){b.exports=a("x/3aRz")},{}],"4HJaAd":[function(b,c,d){(function(b){(function(){function e(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function f(a,b){var c=typeof b;if(a=a.cache,"boolean"==c||null==b)return a[b]?0:-1;"number"!=c&&"string"!=c&&(c="object");var d="number"==c?b:x+b;return a=(a=a[c])&&a[d],"object"==c?a&&e(a,b)>-1?0:-1:a?0:-1}function g(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:x+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function h(a){return a.charCodeAt(0)}function i(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function j(a){var b=-1,c=a.length,d=a[0],e=a[c/2|0],f=a[c-1];if(d&&"object"==typeof d&&e&&"object"==typeof e&&f&&"object"==typeof f)return!1;var h=m();h["false"]=h["null"]=h["true"]=h.undefined=!1;var i=m();for(i.array=a,i.cache=h,i.push=g;++b<c;)i.push(a[b]);return i}function k(a){return"\\"+cb[a]}function l(){return t.pop()||[]}function m(){return u.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function n(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function o(a){a.length=0,t.length<z&&t.push(a)}function p(a){var b=a.cache;b&&p(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,u.length<z&&u.push(a)}function q(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function r(a){function b(a){return a&&"object"==typeof a&&!je(a)&&Qd.call(a,"__wrapped__")?a:new c(a)}function c(a,b){this.__chain__=!!b,this.__wrapped__=a}function d(a){function b(){if(d){var a=q(d);Rd.apply(a,arguments)}if(this instanceof b){var f=t(c.prototype),g=c.apply(f,a||arguments);return Kb(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return ie(b,a),b}function g(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var h=Kb(a);if(!h)return a;var i=Jd.call(a);if(!Z[i]||!ge.nodeClass&&n(a))return a;var j=ee[i];switch(i){case R:case S:return new j(+a);case V:case Y:return new j(a);case X:return f=j(a.source,F.exec(a)),f.lastIndex=a.lastIndex,f}var k=je(a);if(b){var m=!d;d||(d=l()),e||(e=l());for(var p=d.length;p--;)if(d[p]==a)return e[p];f=k?j(a.length):{}}else f=k?q(a):ue({},a);return k&&(Qd.call(a,"index")&&(f.index=a.index),Qd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(k?te:xe)(a,function(a,h){f[h]=g(a,b,c,d,e)}),m&&(o(d),o(e)),f):f}function t(a){return Kb(a)?Xd(a):{}}function u(a,b,c){if("function"!=typeof a)return dd;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(ge.funcNames&&(d=!a.name),d=d||!ge.funcDecomp,!d)){var e=Od.call(a);ge.funcNames||(d=!G.test(e)),d||(d=K.test(e),ie(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Oc(a,b)}function z(a){function b(){var a=i?g:this;if(e){var n=q(e);Rd.apply(n,arguments)}if((f||k)&&(n||(n=q(arguments)),f&&Rd.apply(n,f),k&&n.length<h))return d|=16,z([c,l?d:-4&d,n,null,g,h]);if(n||(n=arguments),j&&(c=a[m]),this instanceof b){a=t(c.prototype);var o=c.apply(a,n);return Kb(o)?o:a}return c.apply(a,n)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return ie(b,a),b}function cb(a,b){var c=-1,d=ob(),g=a?a.length:0,h=g>=y&&d===e,i=[];if(h){var k=j(b);k?(d=f,b=k):h=!1}for(;++c<g;){var l=a[c];d(b,l)<0&&i.push(l)}return h&&p(b),i}function eb(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(je(h)||sb(h))){b||(h=eb(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function fb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var h=typeof a,i=typeof b;if(!(a!==a||a&&bb[h]||b&&bb[i]))return!1;if(null==a||null==b)return a===b;var j=Jd.call(a),k=Jd.call(b);if(j==P&&(j=W),k==P&&(k=W),j!=k)return!1;switch(j){case R:case S:return+a==+b;case V:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case X:case Y:return a==Cd(b)}var m=j==Q;if(!m){var p=Qd.call(a,"__wrapped__"),q=Qd.call(b,"__wrapped__");if(p||q)return fb(p?a.__wrapped__:a,q?b.__wrapped__:b,c,d,e,f);if(j!=W||!ge.nodeClass&&(n(a)||n(b)))return!1;var r=!ge.argsObject&&sb(a)?Ad:a.constructor,s=!ge.argsObject&&sb(b)?Ad:b.constructor;if(r!=s&&!(Jb(r)&&r instanceof r&&Jb(s)&&s instanceof s)&&"constructor"in a&&"constructor"in b)return!1}var t=!e;e||(e=l()),f||(f=l());for(var u=e.length;u--;)if(e[u]==a)return f[u]==b;var v=0;if(g=!0,e.push(a),f.push(b),m){if(u=a.length,v=b.length,g=v==u,g||d)for(;v--;){var w=u,x=b[v];if(d)for(;w--&&!(g=fb(a[w],x,c,d,e,f)););else if(!(g=fb(a[v],x,c,d,e,f)))break}}else we(b,function(b,h,i){return Qd.call(i,h)?(v++,g=Qd.call(a,h)&&fb(a[h],b,c,d,e,f)):void 0}),g&&!d&&we(a,function(a,b,c){return Qd.call(c,b)?g=--v>-1:void 0});return e.pop(),f.pop(),t&&(o(e),o(f)),g}function gb(a,b,c,d,e){(je(b)?cc:xe)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=je(b))||ye(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?je(j)?j:[]:ye(j)?j:{}),d.push(b),e.push(j),l||gb(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function hb(a,b){return a+Nd(de()*(b-a+1))}function jb(a,b,c){var d=-1,g=ob(),h=a?a.length:0,i=[],k=!b&&h>=y&&g===e,m=c||k?l():i;if(k){var n=j(m);g=f,m=n}for(;++d<h;){var q=a[d],r=c?c(q,d,a):q;(b?!d||m[m.length-1]!==r:g(m,r)<0)&&((c||k)&&m.push(r),i.push(q))}return k?(o(m.array),p(m)):c&&o(m),i}function kb(a){return function(c,d,e){var f={};if(d=b.createCallback(d,e,3),je(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else te(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function lb(a,b,c,e,f,g){var h=1&b,i=2&b,j=4&b,k=16&b,l=32&b;if(!i&&!Jb(a))throw new Dd;k&&!c.length&&(b&=-17,k=c=!1),l&&!e.length&&(b&=-33,l=e=!1);var m=a&&a.__bindData__;if(m&&m!==!0)return m=q(m),m[2]&&(m[2]=q(m[2])),m[3]&&(m[3]=q(m[3])),!h||1&m[1]||(m[4]=f),!h&&1&m[1]&&(b|=8),!j||4&m[1]||(m[5]=g),k&&Rd.apply(m[2]||(m[2]=[]),c),l&&Vd.apply(m[3]||(m[3]=[]),e),m[1]|=b,lb.apply(null,m);var n=1==b||17===b?d:z;return n([a,b,c,e,f,g])}function mb(){ab.shadowedProps=N,ab.support=ge,ab.array=ab.bottom=ab.loop=ab.top="",ab.init="iterable",ab.useHas=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)ab[c]=a[c];var d=ab.args;ab.firstArg=/^[^,]+/.exec(d)[0];var e=xd("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+d+") {\n"+he(ab)+"\n}");return e(u,T,Fd,Qd,w,sb,je,Pb,ab.keys,Gd,bb,fe,Y,Hd,Jd)}function nb(a){return pe[a]}function ob(){var a=(a=b.indexOf)===xc?e:a;return a}function pb(a){return"function"==typeof a&&Kd.test(a)}function qb(a){var b,c;return!a||Jd.call(a)!=W||(b=a.constructor,Jb(b)&&!(b instanceof b))||!ge.argsClass&&sb(a)||!ge.nodeClass&&n(a)?!1:ge.ownLast?(we(a,function(a,b,d){return c=Qd.call(d,b),!1}),c!==!1):(we(a,function(a,b){c=b}),"undefined"==typeof c||Qd.call(a,c))}function rb(a){return qe[a]}function sb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Jd.call(a)==P||!1}function tb(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),g(a,b,"function"==typeof c&&u(c,d,1))}function ub(a,b,c){return g(a,!0,"function"==typeof b&&u(b,c,1))}function vb(a,b){var c=t(a);return b?ue(c,b):c}function wb(a,c,d){var e;return c=b.createCallback(c,d,3),xe(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function xb(a,c,d){var e;return c=b.createCallback(c,d,3),zb(a,function(a,b,d){return c(a,b,d)?(e=b,!1):void 0}),e}function yb(a,b,c){var d=[];we(a,function(a,b){d.push(b,a)});var e=d.length;for(b=u(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function zb(a,b,c){var d=le(a),e=d.length;for(b=u(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function Ab(a){var b=[];return we(a,function(a,c){Jb(a)&&b.push(c)}),b.sort()}function Bb(a,b){return a?Qd.call(a,b):!1}function Cb(a){for(var b=-1,c=le(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function Db(a){return a===!0||a===!1||a&&"object"==typeof a&&Jd.call(a)==R||!1}function Eb(a){return a&&"object"==typeof a&&Jd.call(a)==S||!1}function Fb(a){return a&&1===a.nodeType||!1}function Gb(a){var b=!0;if(!a)return b;var c=Jd.call(a),d=a.length;return c==Q||c==Y||(ge.argsClass?c==P:sb(a))||c==W&&"number"==typeof d&&Jb(a.splice)?!d:(xe(a,function(){return b=!1}),b)}function Hb(a,b,c,d){return fb(a,b,"function"==typeof c&&u(c,d,2))}function Ib(a){return Zd(a)&&!$d(parseFloat(a))}function Jb(a){return"function"==typeof a}function Kb(a){return!(!a||!bb[typeof a])}function Lb(a){return Nb(a)&&a!=+a}function Mb(a){return null===a}function Nb(a){return"number"==typeof a||a&&"object"==typeof a&&Jd.call(a)==V||!1}function Ob(a){return a&&bb[typeof a]&&Jd.call(a)==X||!1}function Pb(a){return"string"==typeof a||a&&"object"==typeof a&&Jd.call(a)==Y||!1}function Qb(a){return"undefined"==typeof a}function Rb(a,c,d){var e={};return c=b.createCallback(c,d,3),xe(a,function(a,b,d){e[b]=c(a,b,d)}),e}function Sb(a){var b=arguments,c=2;if(!Kb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=u(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=q(arguments,1,c),f=-1,g=l(),h=l();++f<c;)gb(a,e[f],d,g,h);return o(g),o(h),a}function Tb(a,c,d){var e={};if("function"!=typeof c){var f=[];we(a,function(a,b){f.push(b)}),f=cb(f,eb(arguments,!0,!1,1));for(var g=-1,h=f.length;++g<h;){var i=f[g];e[i]=a[i]}}else c=b.createCallback(c,d,3),we(a,function(a,b,d){c(a,b,d)||(e[b]=a)});return e}function Ub(a){for(var b=-1,c=le(a),d=c.length,e=td(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Vb(a,c,d){var e={};if("function"!=typeof c)for(var f=-1,g=eb(arguments,!0,!1,1),h=Kb(a)?g.length:0;++f<h;){var i=g[f];i in a&&(e[i]=a[i])}else c=b.createCallback(c,d,3),we(a,function(a,b,d){c(a,b,d)&&(e[b]=a)});return e}function Wb(a,c,d,e){var f=je(a);if(null==d)if(f)d=[];else{var g=a&&a.constructor,h=g&&g.prototype;d=t(h)}return c&&(c=b.createCallback(c,e,4),(f?te:xe)(a,function(a,b,e){return c(d,a,b,e)})),d}function Xb(a){for(var b=-1,c=le(a),d=c.length,e=td(d);++b<d;)e[b]=a[c[b]];return e}function Yb(a){var b=arguments,c=-1,d=eb(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=td(e);for(ge.unindexedChars&&Pb(a)&&(a=a.split(""));++c<e;)f[c]=a[d[c]];return f}function Zb(a,b,c){var d=-1,e=ob(),f=a?a.length:0,g=!1;return c=(0>c?ae(0,f+c):c)||0,je(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Pb(a)?a.indexOf(b,c):e(a,b,c))>-1:te(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function $b(a,c,d){var e=!0;if(c=b.createCallback(c,d,3),je(a))for(var f=-1,g=a.length;++f<g&&(e=!!c(a[f],f,a)););else te(a,function(a,b,d){return e=!!c(a,b,d)});return e}function _b(a,c,d){var e=[];if(c=b.createCallback(c,d,3),je(a))for(var f=-1,g=a.length;++f<g;){var h=a[f];c(h,f,a)&&e.push(h)}else te(a,function(a,b,d){c(a,b,d)&&e.push(a)});return e}function ac(a,c,d){if(c=b.createCallback(c,d,3),!je(a)){var e;return te(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}for(var f=-1,g=a.length;++f<g;){var h=a[f];if(c(h,f,a))return h}}function bc(a,c,d){var e;return c=b.createCallback(c,d,3),dc(a,function(a,b,d){return c(a,b,d)?(e=a,!1):void 0}),e}function cc(a,b,c){if(b&&"undefined"==typeof c&&je(a))for(var d=-1,e=a.length;++d<e&&b(a[d],d,a)!==!1;);else te(a,b,c);return a}function dc(a,b,c){var d=a,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:u(b,c,3),je(a))for(;e--&&b(a[e],e,a)!==!1;);else{if("number"!=typeof e){var f=le(a);e=f.length}else ge.unindexedChars&&Pb(a)&&(d=a.split(""));te(a,function(a,c,g){return c=f?f[--e]:--e,b(d[c],c,g)})}return a}function ec(a,b){var c=q(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=td("number"==typeof f?f:0);return cc(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function fc(a,c,d){var e=-1,f=a?a.length:0,g=td("number"==typeof f?f:0);if(c=b.createCallback(c,d,3),je(a))for(;++e<f;)g[e]=c(a[e],e,a);else te(a,function(a,b,d){g[++e]=c(a,b,d)});return g}function gc(a,c,d){var e=-1/0,f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&je(a))for(var g=-1,i=a.length;++g<i;){var j=a[g];j>f&&(f=j)}else c=null==c&&Pb(a)?h:b.createCallback(c,d,3),te(a,function(a,b,d){var g=c(a,b,d);g>e&&(e=g,f=a)});return f}function hc(a,c,d){var e=1/0,f=e;if("function"!=typeof c&&d&&d[c]===a&&(c=null),null==c&&je(a))for(var g=-1,i=a.length;++g<i;){var j=a[g];f>j&&(f=j)}else c=null==c&&Pb(a)?h:b.createCallback(c,d,3),te(a,function(a,b,d){var g=c(a,b,d);e>g&&(e=g,f=a)});return f}function ic(a,c,d,e){var f=arguments.length<3;if(c=b.createCallback(c,e,4),je(a)){var g=-1,h=a.length;for(f&&(d=a[++g]);++g<h;)d=c(d,a[g],g,a)}else te(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)});return d}function jc(a,c,d,e){var f=arguments.length<3;return c=b.createCallback(c,e,4),dc(a,function(a,b,e){d=f?(f=!1,a):c(d,a,b,e)}),d}function kc(a,c,d){return c=b.createCallback(c,d,3),_b(a,function(a,b,d){return!c(a,b,d)})}function lc(a,b,c){if(a&&"number"!=typeof a.length?a=Xb(a):ge.unindexedChars&&Pb(a)&&(a=a.split("")),null==b||c)return a?a[hb(0,a.length-1)]:s;var d=mc(a);return d.length=be(ae(0,b),d.length),d}function mc(a){var b=-1,c=a?a.length:0,d=td("number"==typeof c?c:0);return cc(a,function(a){var c=hb(0,++b);d[b]=d[c],d[c]=a}),d}function nc(a){var b=a?a.length:0;return"number"==typeof b?b:le(a).length}function oc(a,c,d){var e;if(c=b.createCallback(c,d,3),je(a))for(var f=-1,g=a.length;++f<g&&!(e=c(a[f],f,a)););else te(a,function(a,b,d){return!(e=c(a,b,d))});return!!e}function pc(a,c,d){var e=-1,f=je(c),g=a?a.length:0,h=td("number"==typeof g?g:0);for(f||(c=b.createCallback(c,d,3)),cc(a,function(a,b,d){var g=h[++e]=m();f?g.criteria=fc(c,function(b){return a[b]}):(g.criteria=l())[0]=c(a,b,d),g.index=e,g.value=a}),g=h.length,h.sort(i);g--;){var j=h[g];h[g]=j.value,f||o(j.criteria),p(j)}return h}function qc(a){return a&&"number"==typeof a.length?ge.unindexedChars&&Pb(a)?a.split(""):q(a):Xb(a)}function rc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function sc(a){return cb(a,eb(arguments,!0,!0,1))}function tc(a,c,d){var e=-1,f=a?a.length:0;for(c=b.createCallback(c,d,3);++e<f;)if(c(a[e],e,a))return e;return-1}function uc(a,c,d){var e=a?a.length:0;for(c=b.createCallback(c,d,3);e--;)if(c(a[e],e,a))return e;return-1}function vc(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=-1;for(c=b.createCallback(c,d,3);++g<f&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[0]:s;return q(a,0,be(ae(0,e),f))}function wc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=fc(a,c,d)),eb(a,b)}function xc(a,b,c){if("number"==typeof c){var d=a?a.length:0;c=0>c?ae(0,d+c):c||0}else if(c){var f=Gc(a,b);return a[f]===b?f:-1}return e(a,b,c)}function yc(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else e=null==c||d?1:c||e;return q(a,0,be(ae(0,f-e),f))}function zc(){for(var a=[],b=-1,c=arguments.length,d=l(),g=ob(),h=g===e,i=l();++b<c;){var k=arguments[b];(je(k)||sb(k))&&(a.push(k),d.push(h&&k.length>=y&&j(b?a[b]:i)))}var m=a[0],n=-1,q=m?m.length:0,r=[];a:for(;++n<q;){var s=d[0];if(k=m[n],(s?f(s,k):g(i,k))<0){for(b=c,(s||i).push(k);--b;)if(s=d[b],(s?f(s,k):g(a[b],k))<0)continue a;r.push(k)}}for(;c--;)s=d[c],s&&p(s);return o(d),o(i),r}function Ac(a,c,d){var e=0,f=a?a.length:0;if("number"!=typeof c&&null!=c){var g=f;for(c=b.createCallback(c,d,3);g--&&c(a[g],g,a);)e++}else if(e=c,null==e||d)return a?a[f-1]:s;return q(a,ae(0,f-e))}function Bc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?ae(0,d+c):be(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function Cc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Ud.call(a,f--,1),e--);return a}function Dc(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=ae(0,Ld((b-a)/(c||1))),f=td(e);++d<e;)f[d]=a,a+=c;return f}function Ec(a,c,d){var e=-1,f=a?a.length:0,g=[];for(c=b.createCallback(c,d,3);++e<f;){var h=a[e];c(h,e,a)&&(g.push(h),Ud.call(a,e--,1),f--)}return g}function Fc(a,c,d){if("number"!=typeof c&&null!=c){var e=0,f=-1,g=a?a.length:0;for(c=b.createCallback(c,d,3);++f<g&&c(a[f],f,a);)e++}else e=null==c||d?1:ae(0,c);return q(a,e)}function Gc(a,c,d,e){var f=0,g=a?a.length:f;for(d=d?b.createCallback(d,e,1):dd,c=d(c);g>f;){var h=f+g>>>1;d(a[h])<c?f=h+1:g=h}return f}function Hc(){return jb(eb(arguments,!0,!0))}function Ic(a,c,d,e){return"boolean"!=typeof c&&null!=c&&(e=d,d="function"!=typeof c&&e&&e[c]===a?null:c,c=!1),null!=d&&(d=b.createCallback(d,e,3)),jb(a,c,d)}function Jc(a){return cb(a,q(arguments,1))}function Kc(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(je(c)||sb(c))var d=d?jb(cb(d,c).concat(cb(c,d))):c}return d||[]}function Lc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?gc(Ce(a,"length")):0,d=td(0>c?0:c);++b<c;)d[b]=Ce(a,b);return d}function Mc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||je(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Nc(a,b){if(!Jb(b))throw new Dd;return function(){return--a<1?b.apply(this,arguments):void 0}}function Oc(a,b){return arguments.length>2?lb(a,17,q(arguments,2),null,b):lb(a,1,null,null,b)}function Pc(a){for(var b=arguments.length>1?eb(arguments,!0,!1,1):Ab(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=lb(a[e],1,null,null,a)}return a}function Qc(a,b){return arguments.length>2?lb(b,19,q(arguments,2),null,a):lb(b,3,null,null,a)}function Rc(){for(var a=arguments,b=a.length;b--;)if(!Jb(a[b]))throw new Dd;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Sc(a,b){return b="number"==typeof b?b:+b||a.length,lb(a,4,null,null,null,b)}function Tc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Jb(a))throw new Dd;if(b=ae(0,b)||0,c===!0){var n=!0;m=!1}else Kb(c)&&(n=c.leading,l="maxWait"in c&&(ae(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(Ee()-g);if(0>=c){e&&Md(e);var l=j;e=i=j=s,l&&(k=Ee(),f=a.apply(h,d),i||e||(d=h=null))}else i=Td(o,c)},p=function(){i&&Md(i),e=i=j=s,(m||l!==b)&&(k=Ee(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=Ee(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var q=l-(g-k),r=0>=q;r?(e&&(e=Md(e)),k=g,f=a.apply(h,d)):e||(e=Td(p,q))}return r&&i?i=Md(i):i||b===l||(i=Td(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Uc(a){if(!Jb(a))throw new Dd;var b=q(arguments,1);return Td(function(){a.apply(s,b)},1)}function Vc(a,b){if(!Jb(a))throw new Dd;var c=q(arguments,2);return Td(function(){a.apply(s,c)},b)}function Wc(a,b){if(!Jb(a))throw new Dd;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):x+arguments[0];return Qd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Xc(a){var b,c;if(!Jb(a))throw new Dd;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Yc(a){return lb(a,16,q(arguments,1))}function Zc(a){return lb(a,32,null,q(arguments,1))}function $c(a,b,c){var d=!0,e=!0;if(!Jb(a))throw new Dd;return c===!1?d=!1:Kb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),$.leading=d,$.maxWait=b,$.trailing=e,Tc(a,b,$)}function _c(a,b){return lb(b,16,[a])}function ad(a){return function(){return a}}function bd(a,b,c){var d=typeof a;if(null==a||"function"==d)return u(a,b,c);if("object"!=d)return hd(a);var e=le(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Kb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=fb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function cd(a){return null==a?"":Cd(a).replace(se,nb)}function dd(a){return a}function ed(a,d,e){var f=!0,g=d&&Ab(d);d&&(e||g.length)||(null==e&&(e=d),h=c,d=a,a=b,g=Ab(d)),e===!1?f=!1:Kb(e)&&"chain"in e&&(f=e.chain);var h=a,i=Jb(h);cc(g,function(b){var c=a[b]=d[b];i&&(h.prototype[b]=function(){var b=this.__chain__,d=this.__wrapped__,e=[d];Rd.apply(e,arguments);var g=c.apply(a,e);if(f||b){if(d===g&&Kb(g))return this;g=new h(g),g.__chain__=b}return g})})}function fd(){return a._=Id,this}function gd(){}function hd(a){return function(b){return b[a]}}function id(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=de();return be(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return hb(a,b)}function jd(a,b){if(a){var c=a[b];return Jb(c)?a[b]():c}}function kd(a,c,d){var e=b.templateSettings;a=Cd(a||""),d=he?ve({},d,e):e;var f,g=he&&ve({},d.imports,e.imports),h=he?le(g):["_"],i=he?Xb(g):[b],j=0,l=d.interpolate||J,m="__p += '",n=Bd((d.escape||J).source+"|"+l.source+"|"+(l===H?E:J).source+"|"+(d.evaluate||J).source+"|$","g");a.replace(n,function(b,c,d,e,g,h){return d||(d=e),m+=a.slice(j,h).replace(L,k),c&&(m+="' +\n__e("+c+") +\n'"),g&&(f=!0,m+="';\n"+g+";\n__p += '"),d&&(m+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=h+b.length,b}),m+="';\n";var o=d.variable,p=o;p||(o="obj",m="with ("+o+") {\n"+m+"\n}\n"),m=(f?m.replace(B,""):m).replace(C,"$1").replace(D,"$1;"),m="function("+o+") {\n"+(p?"":o+" || ("+o+" = {});\n")+"var __t, __p = '', __e = _.escape"+(f?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+m+"return __p\n}";var q="\n/*\n//# sourceURL="+(d.sourceURL||"/lodash/template/source["+O++ +"]")+"\n*/";try{var r=xd(h,"return "+m+q).apply(s,i)}catch(t){throw t.source=m,t}return c?r(c):(r.source=m,r)}function ld(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=td(a);for(b=u(b,c,1);++d<a;)e[d]=b(d);return e}function md(a){return null==a?"":Cd(a).replace(re,rb)}function nd(a){var b=++v;return Cd(null==a?"":a)+b}function od(a){return a=new c(a),a.__chain__=!0,a}function pd(a,b){return b(a),a}function qd(){return this.__chain__=!0,this}function rd(){return Cd(this.__wrapped__)}function sd(){return this.__wrapped__}a=a?ib.defaults(db.Object(),a,ib.pick(db,M)):db;var td=a.Array,ud=a.Boolean,vd=a.Date,wd=a.Error,xd=a.Function,yd=a.Math,zd=a.Number,Ad=a.Object,Bd=a.RegExp,Cd=a.String,Dd=a.TypeError,Ed=[],Fd=wd.prototype,Gd=Ad.prototype,Hd=Cd.prototype,Id=a._,Jd=Gd.toString,Kd=Bd("^"+Cd(Jd).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Ld=yd.ceil,Md=a.clearTimeout,Nd=yd.floor,Od=xd.prototype.toString,Pd=pb(Pd=Ad.getPrototypeOf)&&Pd,Qd=Gd.hasOwnProperty,Rd=Ed.push,Sd=Gd.propertyIsEnumerable,Td=a.setTimeout,Ud=Ed.splice,Vd=Ed.unshift,Wd=function(){try{var a={},b=pb(b=Ad.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Xd=pb(Xd=Ad.create)&&Xd,Yd=pb(Yd=td.isArray)&&Yd,Zd=a.isFinite,$d=a.isNaN,_d=pb(_d=Ad.keys)&&_d,ae=yd.max,be=yd.min,ce=a.parseInt,de=yd.random,ee={};ee[Q]=td,ee[R]=ud,ee[S]=vd,ee[U]=xd,ee[W]=Ad,ee[V]=zd,ee[X]=Bd,ee[Y]=Cd;var fe={};fe[Q]=fe[S]=fe[V]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},fe[R]=fe[Y]={constructor:!0,toString:!0,valueOf:!0},fe[T]=fe[U]=fe[X]={constructor:!0,toString:!0},fe[W]={constructor:!0},function(){for(var a=N.length;a--;){var b=N[a];
for(var c in fe)Qd.call(fe,c)&&!Qd.call(fe[c],b)&&(fe[c][b]=!1)}}(),c.prototype=b.prototype;var ge=b.support={};!function(){var b=function(){this.x=1},c={0:1,length:1},d=[];b.prototype={valueOf:1,y:1};for(var e in new b)d.push(e);for(e in arguments);ge.argsClass=Jd.call(arguments)==P,ge.argsObject=arguments.constructor==Ad&&!(arguments instanceof td),ge.enumErrorProps=Sd.call(Fd,"message")||Sd.call(Fd,"name"),ge.enumPrototypes=Sd.call(b,"prototype"),ge.funcDecomp=!pb(a.WinRTError)&&K.test(r),ge.funcNames="string"==typeof xd.name,ge.nonEnumArgs=0!=e,ge.nonEnumShadows=!/valueOf/.test(d),ge.ownLast="x"!=d[0],ge.spliceObjects=(Ed.splice.call(c,0,1),!c[0]),ge.unindexedChars="x"[0]+Ad("x")[0]!="xx";try{ge.nodeClass=!(Jd.call(document)==W&&!({toString:0}+""))}catch(f){ge.nodeClass=!0}}(1),b.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:H,variable:"",imports:{_:b}};var he=kd("var index, iterable = <%= firstArg %>, result = <%= init %>;\nif (!iterable) return result;\n<%= top %>;<% if (array) { %>\nvar length = iterable.length; index = -1;\nif (<%= array %>) {  <% if (support.unindexedChars) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>;\n  }\n}\nelse {  <% } else if (support.nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>;\n    }\n  } else {  <% } %>  <% if (support.enumPrototypes) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (support.enumErrorProps) { %>\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  <% } %>  <%    var conditions = [];    if (support.enumPrototypes) { conditions.push('!(skipProto && index == \"prototype\")'); }    if (support.enumErrorProps)  { conditions.push('!(skipErrorProps && (index == \"message\" || index == \"name\"))'); }  %>  <% if (useHas && keys) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n<%    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }  <% } else { %>\n  for (index in iterable) {\n<%    if (useHas) { conditions.push(\"hasOwnProperty.call(iterable, index)\"); }    if (conditions.length) { %>    if (<%= conditions.join(' && ') %>) {\n  <% } %>    <%= loop %>;    <% if (conditions.length) { %>\n    }<% } %>\n  }    <% if (support.nonEnumShadows) { %>\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      <% for (k = 0; k < 7; k++) { %>\n    index = '<%= shadowedProps[k] %>';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))<%        if (!useHas) { %> || (!nonEnum[index] && iterable[index] !== objectProto[index])<% }      %>) {\n      <%= loop %>;\n    }      <% } %>\n  }    <% } %>  <% } %>  <% if (array || support.nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result");Xd||(t=function(){function b(){}return function(c){if(Kb(c)){b.prototype=c;var d=new b;b.prototype=null}return d||a.Object()}}());var ie=Wd?function(a,b){_.value=b,Wd(a,"__bindData__",_)}:gd;ge.argsClass||(sb=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Qd.call(a,"callee")&&!Sd.call(a,"callee")||!1});var je=Yd||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Jd.call(a)==Q||!1},ke=mb({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),le=_d?function(a){return Kb(a)?ge.enumPrototypes&&"function"==typeof a||ge.nonEnumArgs&&a.length&&sb(a)?ke(a):_d(a):[]}:ke,me={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:le,loop:"if (callback(iterable[index], index, collection) === false) return result"},ne={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:le,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},oe={top:"if (!objectTypes[typeof iterable]) return result;\n"+me.top,array:!1},pe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qe=Cb(pe),re=Bd("("+le(qe).join("|")+")","g"),se=Bd("["+le(pe).join("")+"]","g"),te=mb(me),ue=mb(ne,{top:ne.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),ve=mb(ne),we=mb(me,oe,{useHas:!1}),xe=mb(me,oe);Jb(/x/)&&(Jb=function(a){return"function"==typeof a&&Jd.call(a)==U});var ye=Pd?function(a){if(!a||Jd.call(a)!=W||!ge.argsClass&&sb(a))return!1;var b=a.valueOf,c=pb(b)&&(c=Pd(b))&&Pd(c);return c?a==c||Pd(a)==c:qb(a)}:qb,ze=kb(function(a,b,c){Qd.call(a,c)?a[c]++:a[c]=1}),Ae=kb(function(a,b,c){(Qd.call(a,c)?a[c]:a[c]=[]).push(b)}),Be=kb(function(a,b,c){a[c]=b}),Ce=fc,De=_b,Ee=pb(Ee=vd.now)&&Ee||function(){return(new vd).getTime()},Fe=8==ce(A+"08")?ce:function(a,b){return ce(Pb(a)?a.replace(I,""):a,b||0)};return b.after=Nc,b.assign=ue,b.at=Yb,b.bind=Oc,b.bindAll=Pc,b.bindKey=Qc,b.chain=od,b.compact=rc,b.compose=Rc,b.constant=ad,b.countBy=ze,b.create=vb,b.createCallback=bd,b.curry=Sc,b.debounce=Tc,b.defaults=ve,b.defer=Uc,b.delay=Vc,b.difference=sc,b.filter=_b,b.flatten=wc,b.forEach=cc,b.forEachRight=dc,b.forIn=we,b.forInRight=yb,b.forOwn=xe,b.forOwnRight=zb,b.functions=Ab,b.groupBy=Ae,b.indexBy=Be,b.initial=yc,b.intersection=zc,b.invert=Cb,b.invoke=ec,b.keys=le,b.map=fc,b.mapValues=Rb,b.max=gc,b.memoize=Wc,b.merge=Sb,b.min=hc,b.omit=Tb,b.once=Xc,b.pairs=Ub,b.partial=Yc,b.partialRight=Zc,b.pick=Vb,b.pluck=Ce,b.property=hd,b.pull=Cc,b.range=Dc,b.reject=kc,b.remove=Ec,b.rest=Fc,b.shuffle=mc,b.sortBy=pc,b.tap=pd,b.throttle=$c,b.times=ld,b.toArray=qc,b.transform=Wb,b.union=Hc,b.uniq=Ic,b.values=Xb,b.where=De,b.without=Jc,b.wrap=_c,b.xor=Kc,b.zip=Lc,b.zipObject=Mc,b.collect=fc,b.drop=Fc,b.each=cc,b.eachRight=dc,b.extend=ue,b.methods=Ab,b.object=Mc,b.select=_b,b.tail=Fc,b.unique=Ic,b.unzip=Lc,ed(b),b.clone=tb,b.cloneDeep=ub,b.contains=Zb,b.escape=cd,b.every=$b,b.find=ac,b.findIndex=tc,b.findKey=wb,b.findLast=bc,b.findLastIndex=uc,b.findLastKey=xb,b.has=Bb,b.identity=dd,b.indexOf=xc,b.isArguments=sb,b.isArray=je,b.isBoolean=Db,b.isDate=Eb,b.isElement=Fb,b.isEmpty=Gb,b.isEqual=Hb,b.isFinite=Ib,b.isFunction=Jb,b.isNaN=Lb,b.isNull=Mb,b.isNumber=Nb,b.isObject=Kb,b.isPlainObject=ye,b.isRegExp=Ob,b.isString=Pb,b.isUndefined=Qb,b.lastIndexOf=Bc,b.mixin=ed,b.noConflict=fd,b.noop=gd,b.now=Ee,b.parseInt=Fe,b.random=id,b.reduce=ic,b.reduceRight=jc,b.result=jd,b.runInContext=r,b.size=nc,b.some=oc,b.sortedIndex=Gc,b.template=kd,b.unescape=md,b.uniqueId=nd,b.all=$b,b.any=oc,b.detect=ac,b.findWhere=ac,b.foldl=ic,b.foldr=jc,b.include=Zb,b.inject=ic,ed(function(){var a={};return xe(b,function(c,d){b.prototype[d]||(a[d]=c)}),a}(),!1),b.first=vc,b.last=Ac,b.sample=lc,b.take=vc,b.head=vc,xe(b,function(a,d){var e="sample"!==d;b.prototype[d]||(b.prototype[d]=function(b,d){var f=this.__chain__,g=a(this.__wrapped__,b,d);return f||null!=b&&(!d||e&&"function"==typeof b)?new c(g,f):g})}),b.VERSION="2.4.1",b.prototype.chain=qd,b.prototype.toString=rd,b.prototype.value=sd,b.prototype.valueOf=sd,te(["join","pop","shift"],function(a){var d=Ed[a];b.prototype[a]=function(){var a=this.__chain__,b=d.apply(this.__wrapped__,arguments);return a?new c(b,a):b}}),te(["push","reverse","sort","unshift"],function(a){var c=Ed[a];b.prototype[a]=function(){return c.apply(this.__wrapped__,arguments),this}}),te(["concat","slice","splice"],function(a){var d=Ed[a];b.prototype[a]=function(){return new c(d.apply(this.__wrapped__,arguments),this.__chain__)}}),ge.spliceObjects||te(["pop","shift","splice"],function(a){var d=Ed[a],e="splice"==a;b.prototype[a]=function(){var a=this.__chain__,b=this.__wrapped__,f=d.apply(b,arguments);return 0===b.length&&delete b[0],a||e?new c(f,a):f}}),b._baseEach=te,b._iteratorTemplate=he,b._shimKeys=ke,b}var s,t=[],u=[],v=0,w={},x=+new Date+"",y=75,z=40,A=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",B=/\b__p \+= '';/g,C=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,E=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,F=/\w*$/,G=/^\s*function[ \n\r\t]+\w/,H=/<%=([\s\S]+?)%>/g,I=RegExp("^["+A+"]*0+(?=.$)"),J=/($^)/,K=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,M=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],N=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],O=0,P="[object Arguments]",Q="[object Array]",R="[object Boolean]",S="[object Date]",T="[object Error]",U="[object Function]",V="[object Number]",W="[object Object]",X="[object RegExp]",Y="[object String]",Z={};Z[U]=!1,Z[P]=Z[Q]=Z[R]=Z[S]=Z[V]=Z[W]=Z[X]=Z[Y]=!0;var $={leading:!1,maxWait:0,trailing:!1},_={configurable:!1,enumerable:!1,value:null,writable:!1},ab={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},bb={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},cb={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},db=bb[typeof window]&&window||this,eb=bb[typeof d]&&d&&!d.nodeType&&d,fb=bb[typeof c]&&c&&!c.nodeType&&c,gb=fb&&fb.exports===eb&&eb,hb=bb[typeof b]&&b;!hb||hb.global!==hb&&hb.window!==hb||(db=hb);var ib=r();"function"==typeof a&&"object"==typeof a.amd&&a.amd?(db._=ib,a(function(){return ib})):eb&&fb?gb?(fb.exports=ib)._=ib:eb._=ib:db._=ib}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],lodash:[function(a,b){b.exports=a("4HJaAd")},{}],6:[function(a,b){(function(){var c,d,e,f,g,h,i;i=a("lodash"),g=a("./diff_match_patch"),e=a("./op"),d=a("./insert"),f=a("./retain"),h=new g,c=function(){function a(a,b,c){var d;if(this.startLength=a,this.endLength=b,this.ops=c,null==this.ops&&(this.ops=this.endLength,this.endLength=null),this.ops=i.map(this.ops,function(a){if(e.isRetain(a))return a;if(e.isInsert(a))return a;throw new Error("Creating delta with invalid op. Expecting an insert or retain.")}),this.compact(),d=i.reduce(this.ops,function(a,b){return a+b.getLength()},0),null!=this.endLength&&d!==this.endLength)throw new Error("Expecting end length of "+d);this.endLength=d}var b,c;return a.getIdentity=function(b){return new a(b,b,[new f(0,b)])},a.getInitial=function(b){return new a(0,b.length,[new d(b)])},a.isDelta=function(a){var b,c,d,f;if(null!=a&&"object"==typeof a&&"number"==typeof a.startLength&&"number"==typeof a.endLength&&"object"==typeof a.ops){for(f=a.ops,c=0,d=f.length;d>c;c++)if(b=f[c],!e.isRetain(b)&&!e.isInsert(b))return!1;return!0}return!1},a.makeDelta=function(b){return new a(b.startLength,b.endLength,i.map(b.ops,function(a){return e.isInsert(a)?new d(a.value,a.attributes):e.isRetain(a)?new f(a.start,a.end,a.attributes):null}))},a.makeDeleteDelta=function(b,c,d){var e;return e=[],c>0&&e.push(new f(0,c)),b>c+d&&e.push(new f(c+d,b)),new a(b,e)},a.makeInsertDelta=function(b,c,e,g){var h;return h=[new d(e,g)],c>0&&h.unshift(new f(0,c)),b>c&&h.push(new f(c,b)),new a(b,h)},a.makeRetainDelta=function(b,c,d,e){var g;return g=[new f(c,c+d,e)],c>0&&g.unshift(new f(0,c)),b>c+d&&g.push(new f(c+d,b)),new a(b,g)},a.prototype.apply=function(a,b,c,d){var g,h,j;return null==a&&(a=function(){}),null==b&&(b=function(){}),null==c&&(c=function(){}),null==d&&(d=null),this.isIdentity()?void 0:(g=0,h=0,j=[],i.each(this.ops,function(c){return e.isInsert(c)?(a.call(d,g+h,c.value,c.attributes),h+=c.getLength()):e.isRetain(c)?(c.start>g&&(b.call(d,g+h,c.start-g),h-=c.start-g),j.push(new f(c.start+h,c.end+h,c.attributes)),g=c.end):void 0}),this.endLength<this.startLength+h&&b.call(d,this.endLength,this.startLength+h-this.endLength),i.each(j,function(a){return i.each(a.attributes,function(b,e){return null===b?c.call(d,a.start,a.end-a.start,e,b):void 0}),i.each(a.attributes,function(b,e){return null!=b?c.call(d,a.start,a.end-a.start,e,b):void 0})}))},a.prototype.applyToText=function(a){var b,c,d,f,g,h,i;if(c=this,a.length!==c.startLength)throw new Error("Start length of delta: "+c.startLength+" is not equal to the text: "+a.length);for(b=[],i=c.ops,g=0,h=i.length;h>g;g++)d=i[g],b.push(e.isInsert(d)?d.value:a.substring(d.start,d.end));if(f=b.join(""),c.endLength!==f.length)throw new Error("End length of delta: "+c.endLength+" is not equal to result text: "+f.length);return f},a.prototype.canCompose=function(b){return a.isDelta(b)&&this.endLength===b.startLength},a.prototype.compact=function(){var a;return a=[],i.each(this.ops,function(b){var c;if(0!==b.getLength())return 0===a.length?a.push(b):(c=i.last(a),e.isInsert(c)&&e.isInsert(b)&&c.attributesMatch(b)?a[a.length-1]=new d(c.value+b.value,b.attributes):e.isRetain(c)&&e.isRetain(b)&&c.end===b.start&&c.attributesMatch(b)?a[a.length-1]=new f(c.start,b.end,b.attributes):a.push(b))}),this.ops=a},a.prototype.compose=function(b){var c,g,h,j,k,l,m;if(!this.canCompose(b))throw new Error("Cannot compose delta");for(g=this,c=[],m=b.ops,k=0,l=m.length;l>k;k++)if(h=m[k],e.isInsert(h))c.push(h);else{if(!e.isRetain(h))throw new Error("Invalid op in deltaB when composing");j=g.getOpsAt(h.start,h.getLength()),j=i.map(j,function(a){return e.isInsert(a)?new d(a.value,a.composeAttributes(h.attributes)):new f(a.start,a.end,a.composeAttributes(h.attributes))}),c=c.concat(j)}return new a(g.startLength,b.endLength,c)},a.prototype.decompose=function(b){var c,g,h,j,k,l;if(h=this,!a.isDelta(b))throw new Error("Decompose called when deltaA is not a Delta, type: "+typeof b);if(b.startLength!==this.startLength)throw new Error("startLength "+b.startLength+" / startLength "+this.startLength+" mismatch");if(!i.all(b.ops,function(a){return e.isInsert(a)}))throw new Error("DeltaA has retain in decompose");if(!i.all(h.ops,function(a){return e.isInsert(a)}))throw new Error("DeltaC has retain in decompose");return c=function(a,b){var d,e,f;d={};for(e in b)f=b[e],(void 0===a[e]||a[e]!==f)&&(d[e]=null!==a[e]&&"object"==typeof a[e]&&null!==f&&"object"==typeof f?c(a[e],f):f);for(e in a)f=a[e],void 0===b[e]&&(d[e]=null);return d},j=b.diff(h),l=[],k=0,i.each(j.ops,function(a){var g,j;return j=h.getOpsAt(k,a.getLength()),g=0,i.each(j,function(h){var j,k,m;if(e.isInsert(a))j=new d(a.value.substring(g,g+h.getLength()),h.attributes),l.push(j);else{if(!e.isRetain(a))throw new Error("Invalid delta in deltaB when composing");m=b.getOpsAt(a.start+g,h.getLength()),k=0,i.each(m,function(b){var d,e,i;return d=c(b.attributes,h.attributes),i=a.start+k+g,e=new f(i,i+b.getLength(),d),l.push(e),k+=b.getLength()})}return g+=h.getLength()}),k+=a.getLength()}),g=new a(j.startLength,j.endLength,l)},a.prototype.diff=function(b){var c,e,j,k,l,m,n,o,p,q,r,s,t;if(s=i.map([this,b],function(a){return i.map(a.ops,function(a){return null!=a.value?a.value:""}).join("")}),n=s[0],o=s[1],""!==n||""!==o){if(c=h.diff_main(n,o),c.length<=0)throw new Error("diffToDelta called with diff with length <= 0");for(m=0,e=0,l=[],q=0,r=c.length;r>q;q++)switch(t=c[q],k=t[0],p=t[1],k){case g.DIFF_DELETE:m+=p.length;break;case g.DIFF_INSERT:l.push(new d(p)),e+=p.length;break;case g.DIFF_EQUAL:l.push(new f(m,m+p.length)),m+=p.length,e+=p.length}j=new a(m,e,l)}else j=new a(0,0,[]);return j},b=function(a,b,c,d){var e,g;if(g=i.extend({},c),e=Math.min(a.getLength(),b.getLength()),d)if(g.transformOp=new f(g.indexA,g.indexA+e),g.indexA+=e,e===a.getLength())g.elemIndexA++;else{if(!(e<a.getLength()))throw new Error("Invalid elem length in transform");g.elemA=i.last(a.split(e))}else g.transformOp=i.first(b.split(e)),g.indexB+=e,e===b.getLength()?g.elemIndexB++:g.elemB=i.last(b.split(e));return g},c=function(a,b,c){var d,e,g,h,j,k,l,m;if(j=c.indexA,k=c.indexB,e=c.elemIndexA,g=c.elemIndexB,m=i.extend({},c),a.end<b.start)m.indexA+=a.getLength(),m.elemIndexA++;else if(b.end<a.start)m.indexB+=b.getLength(),m.elemIndexB++;else{if(a.start<b.start?(m.indexA+=b.start-a.start,a=m.elemA=new f(b.start,a.end,a.attributes)):b.start<a.start&&(m.indexB+=a.start-b.start,b=m.elemB=new f(a.start,b.end,b.attributes)),h="RetainOps must have same start length in transform",a.start!==b.start)throw new Error(h);l=Math.min(a.end,b.end)-a.start,d=a.addAttributes(b.attributes),m.transformOp=new f(m.indexA,m.indexA+l,d),m.indexA+=l,m.indexB+=l,a.end===b.end?(m.elemIndexA++,m.elemIndexB++):a.end<b.end?(m.elemIndexA++,m.elemB=i.last(b.split(l))):(m.elemIndexB++,m.elemA=i.last(a.split(l)))}return m.elemIndexA!==c.elemIndexA&&(m.elemA=null),m.elemIndexB!==c.elemIndexB&&(m.elemB=null),m},a.prototype.transform=function(d,g){var h,j,k,l,m,n,o,p,q,r,s,t,u,v;if(null==g&&(g=!1),!a.isDelta(d))throw n="Transform called when deltaA is not a Delta, type: ",new Error(n+typeof d);for(d=new a(d.startLength,d.endLength,d.ops),h=new a(this.startLength,this.endLength,this.ops),s=[],o=p=0,l=m=0,u=function(a){return null!=a.indexA&&(o=a.indexA),null!=a.indexB&&(p=a.indexB),null!=a.elemIndexA&&(l=a.elemIndexA),null!=a.elemIndexB&&(m=a.elemIndexB),null!=a.elemA&&(d.ops[l]=a.elemA),null!=a.elemB&&(h.ops[m]=a.elemB),null!=a.transformOp?s.push(a.transformOp):void 0},v=function(){return{indexA:o,indexB:p,elemIndexA:l,elemIndexB:m}};l<d.ops.length&&m<h.ops.length;)j=d.ops[l],k=h.ops[m],e.isInsert(j)&&e.isInsert(k)?(q=b(j,k,v(),g),u(q)):e.isRetain(j)&&e.isRetain(k)?(q=c(j,k,v()),u(q)):e.isInsert(j)&&e.isRetain(k)?(s.push(new f(o,o+j.getLength())),o+=j.getLength(),l++):e.isRetain(j)&&e.isInsert(k)&&(s.push(k),p+=k.getLength(),m++);for(;l<d.ops.length;)j=d.ops[l],e.isInsert(j)&&s.push(new f(o,o+j.getLength())),o+=j.getLength(),l++;for(;m<h.ops.length;)k=h.ops[m],e.isInsert(k)&&s.push(k),p+=k.getLength(),m++;return t=d.endLength,r=i.reduce(s,function(a,b){return a+b.getLength()},0),new a(t,r,s)},a.prototype.getOpsAt=function(a,b){var c,d,e,f,g,h,i,j,k;for(c=[],e=null!=this.savedOpOffset&&this.savedOpOffset<a?this.savedOpOffset:this.savedOpOffset=this.savedOpIndex=0,k=this.ops.slice(this.savedOpIndex),i=0,j=k.length;j>i&&(f=k[i],!(e>=a+b));i++)g=f.getLength(),e+g>a&&(h=Math.max(a-e,0),d=Math.min(g-h,a+b-e-h),c.push(f.getAt(h,d))),e+=g,this.savedOpIndex+=1,this.savedOpOffset+=g;return c},a.prototype.invert=function(a){var b,c,d;if(!this.isInsertsOnly())throw new Error("Invert called on invalid delta containing non-insert ops");return b=this,c=b.compose(a),d=b.decompose(c)},a.prototype.isEqual=function(a){return a?this.startLength!==a.startLength||this.endLength!==a.endLength?!1:i.isArray(a.ops)&&this.ops.length===a.ops.length?i.all(this.ops,function(b,c){return b.isEqual(a.ops[c])}):!1:!1},a.prototype.isIdentity=function(){var a,b,c,d,f;if(this.startLength===this.endLength){if(0===this.ops.length)return!0;for(a=0,f=this.ops,c=0,d=f.length;d>c;c++){if(b=f[c],!e.isRetain(b))return!1;if(b.start!==a)return!1;if(!(0===b.numAttributes()||1===b.numAttributes()&&i.has(b.attributes,"authorId")))return!1;a=b.end}return a!==this.endLength?!1:!0}return!1},a.prototype.isInsertsOnly=function(){return i.every(this.ops,function(a){return e.isInsert(a)})},a.prototype.merge=function(b){var c,d=this;return c=i.map(b.ops,function(a){return e.isRetain(a)?new f(a.start+d.startLength,a.end+d.startLength,a.attributes):a}),c=this.ops.concat(c),new a(this.startLength+b.startLength,c)},a.prototype.split=function(b){var c,d;if(!this.isInsertsOnly())throw new Error("Split only implemented for inserts only");if(!(b>=0&&b<=this.endLength))throw new Error("Split at invalid index");return c=[],d=[],i.reduce(this.ops,function(a,e){var f,g,h;return a+e.getLength()<=b?c.push(e):a>=b?d.push(e):(h=e.split(b-a),f=h[0],g=h[1],c.push(f),d.push(g)),a+e.getLength()},0),[new a(0,c),new a(0,d)]},a.prototype.toString=function(){return"{("+this.startLength+"->"+this.endLength+") ["+this.ops.join(", ")+"]}"},a}(),b.exports=c}).call(this)},{"./diff_match_patch":8,"./insert":9,"./op":10,"./retain":11,lodash:"4HJaAd"}],7:[function(a,b){(function(){var c,d,e,f,g,h,i,j;i=a("lodash"),c=a("./delta"),e=a("./insert"),f=a("./retain"),j={alphabet:"abcdefghijklmnopqrstuvwxyz\n\n\n\n  ",booleanAttributes:{bold:[!0,!1],italic:[!0,!1],strike:[!0,!1]},nonBooleanAttributes:{"back-color":["white","black","red","blue","lime","teal","magenta","yellow"],"fore-color":["white","black","red","blue","lime","teal","magenta","yellow"],"font-name":["monospace","serif"],"font-size":["huge","large","small"]},defaultAttributeValue:{"back-color":"white","fore-color":"black","font-name":"san-serif","font-size":"normal"}},h=function(a){return null!=a?j=a:void 0},g=function(a){if(a=a||j,null==a)throw new Error("Must provide DeltaGenerator with a domain.");if(null==a.alphabet)throw new Error("Domain must define alphabet.");if(null==a.booleanAttributes)throw new Error("Domain must define booleanAttributes.");if(null==a.nonBooleanAttributes)throw new Error("Domain must define nonBooleanAttributes.");if(null==a.defaultAttributeValue)throw new Error("Domain must define defaultAttributeValue.");return{getDomain:function(){return j},getRandomString:function(b){var c;return i.map(function(){c=[];for(var a=0,d=b-1;d>=0?d>=a:a>=d;d>=0?a++:a--)c.push(a);return c}.apply(this),function(){return a.alphabet[i.random(0,a.alphabet.length-1)]}).join("")},getRandomLength:function(){var a;return a=Math.random(),.6>a?i.random(1,2):.8>a?i.random(3,4):.9>a?i.random(5,9):i.random(10,50)},insertAt:function(a,b,c){var d,f,g,h,i,j,k,l,m;for(d=h=0,l=a.ops,j=0,k=l.length;k>j&&(g=l[j],d!==b);j++){if(b<d+g.getLength()){m=g.split(b-d),f=m[0],i=m[1],a.ops.splice(h,1,f,i),h++;break}d+=g.getLength(),h++}return a.ops.splice(h,0,new e(c)),a.endLength+=c.length,a.compact()},deleteAt:function(a,b,c){var d,g,h,j,k,l,m,n,o,p,q;for(d=0,l=[],q=a.ops,o=0,p=q.length;p>o;o++){if(k=q[o],m=d===b||b<d+k.getLength(),c>0&&m){if(g=Math.min(c,k.getLength()-(b-d)),c-=g,e.isInsert(k))j=k.value.substring(0,b-d)+k.value.substring(b-d+g),j.length>0&&l.push(new e(j));else{if(!f.isRetain(k))throw new Error("Expected retain but got "+k);h=new f(k.start,k.start+b-d,i.clone(k.attributes)),n=new f(k.start+b-d+g,k.end,i.clone(k.attributes)),h.start<h.end&&l.push(h),n.start<n.end&&l.push(n)}b+=g}else l.push(k);d+=k.getLength()}return a.ops=l,a.endLength=i.reduce(l,function(a,b){return a+b.getLength()},0)},formatAt:function(b,c,d,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(B=function(a,b,c,d){var g,h,j,k,l,m,n,o,p,q,r,s;if(e.isInsert(a))k=a.value.substring(0,b),j=new e(k,i.clone(a.attributes)),h=a.value.substring(b,b+c),g=new e(h,i.clone(a.attributes)),q=a.value.substring(b+c),p=new e(q,i.clone(a.attributes)),-1!==h.indexOf("\n")&&(m=h.substring(0,h.indexOf("\n")),q=h.substring(h.indexOf("\n"))+q,g=new e(m,i.clone(a.attributes)),p=new e(q,i.clone(a.attributes)));else{if(!f.isRetain(a))throw new Error("Expected retain but got "+a);if(j=new f(a.start,a.start+b,i.clone(a.attributes)),g=new f(j.end,j.end+c,i.clone(a.attributes)),p=new f(g.end,a.end,i.clone(a.attributes)),o=d.getOpsAt(g.start,g.getLength()),!i.every(o,function(a){return e.isInsert(a)}))throw new Error("Non insert op in backref");for(l=g.start,r=0,s=o.length;s>r;r++){if(n=o[r],!e.isInsert(n))throw new Error("Got retainOp in reference delta!");if(-1!==n.value.indexOf("\n")){g=new f(g.start,l+n.value.indexOf("\n"),i.clone(g.attributes)),p=new f(l+n.value.indexOf("\n"),p.end,i.clone(p.attributes));break}l+=n.getLength()}}return[j,g,p]},y=function(a,b,c,d){var e,f,g,h,i,j;for(e=0,g=d[0].attributes[c],j=[],h=0,i=d.length;i>h;h++){if(f=d[h],f.attributes[c]!==g){a.end=a.start+e,b.start=a.end;break}j.push(e+=f.getLength())}return j},s=function(a,b,c,d){var g;if(e.isInsert(a))return null!=a.attributes[c]?delete a.attributes[c]:a.attributes[c]=!0;if(!f.isRetain(a))throw new Error("Expected retain but got "+a);if(null!=a.attributes[c])return delete a.attributes[c];if(g=d.getOpsAt(a.start,a.getLength()),!i.every(g,function(a){return e.isInsert(a)}))throw new Error("Formatting a retain that does not refer to an insert.");if(g.length>0){if(y(a,b,c,g),null!=g[0].attributes[c]){if(!g[0].attributes[c])throw new Error("Boolean attribute on reference delta should only be true!");return a.attributes[c]=null}return a.attributes[c]=!0}},t=function(b,c,d,g){var h,j;if(h=function(b){return i.first(null!=b?i.shuffle(i.without(a.nonBooleanAttributes[d],b)):i.shuffle(i.without(a.nonBooleanAttributes[d],a.defaultAttributeValue[d])))},e.isInsert(b))return b.attributes[d]=h(d,b.attributes[d]);if(!f.isRetain(b))throw new Error("Expected retain but got "+b);if(j=g.getOpsAt(b.start,b.getLength()),!i.every(j,function(a){return e.isInsert(a)}))throw new Error("Formatting a retain that does not refer to an insert.");return j.length>0?(y(b,c,d,j),null!=b.attributes[d]&&Math.random()<.5?delete b.attributes[d]:b.attributes[d]=h(b.attributes[d])):void 0},k=0,p=[],z=b.ops,u=0,w=z.length;w>u;u++){if(o=z[u],q=k===c||k+o.getLength()>c,d>0&&q){for(m=Math.min(d,o.getLength()-(c-k)),d-=m,A=B(o,c-k,m,h),n=A[0],l=A[1],r=A[2],p.push(n),p.push(l),p.push(r),v=0,x=g.length;x>v;v++)if(j=g[v],i.has(a.booleanAttributes,j))s(l,r,j,h);else{if(!i.has(a.nonBooleanAttributes,j))throw new Error("Received unknown attribute: "+j);t(l,r,j,h)}c+=m}else p.push(o);k+=o.getLength()}return b.endLength=i.reduce(p,function(a,b){return a+b.getLength()},0),b.ops=p,b.compact()},addRandomOp:function(b,c){var d,e,f,g,h,j,k;if(e=c.endLength-1,g=i.random(0,e),j=Math.random(),.5>j)h=this.getRandomLength(),this.insertAt(b,g,this.getRandomString(h));else if(.75>j){if(c.endLength<=1)return b;g=i.random(0,e-1),h=i.random(1,e-g),this.deleteAt(b,g,h)}else k=i.shuffle(i.keys(a.booleanAttributes).concat(i.keys(a.nonBooleanAttributes))),f=i.random(1,k.length),d=k.slice(0,f),h=i.random(1,e-g),this.formatAt(b,g,h,d,c);return b},getRandomDelta:function(a,b){var d,e,g;for(e=new c(a.endLength,a.endLength,[new f(0,a.endLength)]),b||(b=i.random(1,10)),d=g=0;b>=0?b>g:g>b;d=b>=0?++g:--g)this.addRandomOp(e,a);return e}}},d={setDomain:h,getUtils:g},b.exports=d}).call(this)},{"./delta":6,"./insert":9,"./retain":11,lodash:"4HJaAd"}],8:[function(a,b){(function(){var c;c=a("googlediff"),c.DIFF_DELETE=-1,c.DIFF_INSERT=1,c.DIFF_EQUAL=0,b.exports=c}).call(this)},{googlediff:14}],9:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("lodash"),d=a("./op"),c=function(a){function b(a,b){this.value=a,null==b&&(b={}),this.attributes=e.clone(b)}return g(b,a),b.prototype.getAt=function(a,c){return new b(this.value.substr(a,c),this.attributes)},b.prototype.getLength=function(){return this.value.length},b.prototype.isEqual=function(a){return null!=a&&this.value===a.value&&e.isEqual(this.attributes,a.attributes)},b.prototype.join=function(a){if(e.isEqual(this.attributes,a.attributes))return new b(this.value+second.value,this.attributes);throw Error},b.prototype.split=function(a){var c,d;return c=new b(this.value.substr(0,a),this.attributes),d=new b(this.value.substr(a),this.attributes),[c,d]},b.prototype.toString=function(){return"{"+this.value+", "+this.printAttributes()+"}"},b}(d),b.exports=c}).call(this)},{"./op":10,lodash:"4HJaAd"}],10:[function(a,b){(function(){var c,d;d=a("lodash"),c=function(){function a(a){null==a&&(a={}),this.attributes=d.clone(a)}return a.isInsert=function(a){return null!=a&&"string"==typeof a.value},a.isRetain=function(a){return null!=a&&"number"==typeof a.start&&"number"==typeof a.end},a.prototype.addAttributes=function(a){var b,c,d;b={};for(c in a)d=a[c],void 0===this.attributes[c]&&(b[c]=d);return b},a.prototype.attributesMatch=function(a){var b;return b=a.attributes||{},d.isEqual(this.attributes,b)},a.prototype.composeAttributes=function(b){var c,e=this;return(c=function(b,f){var g,h,i;if(!f)return b;h=d.clone(b);for(g in f)i=f[g],a.isInsert(e)&&null===i?delete h[g]:"undefined"!=typeof i&&(h[g]="object"==typeof h[g]&&"object"==typeof i&&d.all([h[g],f[g]],function(a){return null!==a})?c(h[g],i):i);return h})(this.attributes,b)},a.prototype.numAttributes=function(){return d.keys(this.attributes).length},a.prototype.printAttributes=function(){return JSON.stringify(this.attributes)},a}(),b.exports=c}).call(this)},{lodash:"4HJaAd"}],11:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("lodash"),c=a("./op"),d=function(a){function b(a,b,c){this.start=a,this.end=b,null==c&&(c={}),this.attributes=e.clone(c)}return g(b,a),b.prototype.getAt=function(a,c){return new b(this.start+a,this.start+a+c,this.attributes)},b.prototype.getLength=function(){return this.end-this.start},b.prototype.isEqual=function(a){return null!=a&&this.start===a.start&&this.end===a.end&&e.isEqual(this.attributes,a.attributes)},b.prototype.split=function(a){var c,d;return c=new b(this.start,this.start+a,this.attributes),d=new b(this.start+a,this.end,this.attributes),[c,d]},b.prototype.toString=function(){return"{{"+this.start+" - "+this.end+"), "+this.printAttributes()+"}"},b}(c),b.exports=d}).call(this)},{"./op":10,lodash:"4HJaAd"}],"tandem-core":[function(a,b){b.exports=a("38mxji")},{}],"38mxji":[function(a,b){(function(){b.exports={Delta:a("./delta"),DeltaGen:a("./delta_generator"),Op:a("./op"),InsertOp:a("./insert"),RetainOp:a("./retain")}}).call(this)},{"./delta":6,"./delta_generator":7,"./insert":9,"./op":10,"./retain":11}],14:[function(a,b){b.exports=a("./javascript/diff_match_patch_uncompressed.js").diff_match_patch},{"./javascript/diff_match_patch_uncompressed.js":15}],15:[function(){function a(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var b=-1,c=1,d=0;a.Diff,a.prototype.diff_main=function(a,b,c,e){"undefined"==typeof e&&(e=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var f=e;if(null==a||null==b)throw new Error("Null input. (diff_main)");if(a==b)return a?[[d,a]]:[];"undefined"==typeof c&&(c=!0);var g=c,h=this.diff_commonPrefix(a,b),i=a.substring(0,h);a=a.substring(h),b=b.substring(h),h=this.diff_commonSuffix(a,b);var j=a.substring(a.length-h);a=a.substring(0,a.length-h),b=b.substring(0,b.length-h);var k=this.diff_compute_(a,b,g,f);return i&&k.unshift([d,i]),j&&k.push([d,j]),this.diff_cleanupMerge(k),k},a.prototype.diff_compute_=function(a,e,f,g){var h;if(!a)return[[c,e]];if(!e)return[[b,a]];var i=a.length>e.length?a:e,j=a.length>e.length?e:a,k=i.indexOf(j);if(-1!=k)return h=[[c,i.substring(0,k)],[d,j],[c,i.substring(k+j.length)]],a.length>e.length&&(h[0][0]=h[2][0]=b),h;if(1==j.length)return[[b,a],[c,e]];var l=this.diff_halfMatch_(a,e);if(l){var m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=this.diff_main(m,o,f,g),s=this.diff_main(n,p,f,g);return r.concat([[d,q]],s)}return f&&a.length>100&&e.length>100?this.diff_lineMode_(a,e,g):this.diff_bisect_(a,e,g)},a.prototype.diff_lineMode_=function(a,e,f){var g=this.diff_linesToChars_(a,e);a=g.chars1,e=g.chars2;var h=g.lineArray,i=this.diff_main(a,e,!1,f);
this.diff_charsToLines_(i,h),this.diff_cleanupSemantic(i),i.push([d,""]);for(var j=0,k=0,l=0,m="",n="";j<i.length;){switch(i[j][0]){case c:l++,n+=i[j][1];break;case b:k++,m+=i[j][1];break;case d:if(k>=1&&l>=1){i.splice(j-k-l,k+l),j=j-k-l;for(var g=this.diff_main(m,n,!1,f),o=g.length-1;o>=0;o--)i.splice(j,0,g[o]);j+=g.length}l=0,k=0,m="",n=""}j++}return i.pop(),i},a.prototype.diff_bisect_=function(a,d,e){for(var f=a.length,g=d.length,h=Math.ceil((f+g)/2),i=h,j=2*h,k=new Array(j),l=new Array(j),m=0;j>m;m++)k[m]=-1,l[m]=-1;k[i+1]=0,l[i+1]=0;for(var n=f-g,o=n%2!=0,p=0,q=0,r=0,s=0,t=0;h>t&&!((new Date).getTime()>e);t++){for(var u=-t+p;t-q>=u;u+=2){var v,w=i+u;v=u==-t||u!=t&&k[w-1]<k[w+1]?k[w+1]:k[w-1]+1;for(var x=v-u;f>v&&g>x&&a.charAt(v)==d.charAt(x);)v++,x++;if(k[w]=v,v>f)q+=2;else if(x>g)p+=2;else if(o){var y=i+n-u;if(y>=0&&j>y&&-1!=l[y]){var z=f-l[y];if(v>=z)return this.diff_bisectSplit_(a,d,v,x,e)}}}for(var A=-t+r;t-s>=A;A+=2){var z,y=i+A;z=A==-t||A!=t&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1;for(var B=z-A;f>z&&g>B&&a.charAt(f-z-1)==d.charAt(g-B-1);)z++,B++;if(l[y]=z,z>f)s+=2;else if(B>g)r+=2;else if(!o){var w=i+n-A;if(w>=0&&j>w&&-1!=k[w]){var v=k[w],x=i+v-w;if(z=f-z,v>=z)return this.diff_bisectSplit_(a,d,v,x,e)}}}}return[[b,a],[c,d]]},a.prototype.diff_bisectSplit_=function(a,b,c,d,e){var f=a.substring(0,c),g=b.substring(0,d),h=a.substring(c),i=b.substring(d),j=this.diff_main(f,g,!1,e),k=this.diff_main(h,i,!1,e);return j.concat(k)},a.prototype.diff_linesToChars_=function(a,b){function c(a){for(var b="",c=0,f=-1,g=d.length;f<a.length-1;){f=a.indexOf("\n",c),-1==f&&(f=a.length-1);var h=a.substring(c,f+1);c=f+1,(e.hasOwnProperty?e.hasOwnProperty(h):void 0!==e[h])?b+=String.fromCharCode(e[h]):(b+=String.fromCharCode(g),e[h]=g,d[g++]=h)}return b}var d=[],e={};d[0]="";var f=c(a),g=c(b);return{chars1:f,chars2:g,lineArray:d}},a.prototype.diff_charsToLines_=function(a,b){for(var c=0;c<a.length;c++){for(var d=a[c][1],e=[],f=0;f<d.length;f++)e[f]=b[d.charCodeAt(f)];a[c][1]=e.join("")}},a.prototype.diff_commonPrefix=function(a,b){if(!a||!b||a.charAt(0)!=b.charAt(0))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(f,e)==b.substring(f,e)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonSuffix=function(a,b){if(!a||!b||a.charAt(a.length-1)!=b.charAt(b.length-1))return 0;for(var c=0,d=Math.min(a.length,b.length),e=d,f=0;e>c;)a.substring(a.length-e,a.length-f)==b.substring(b.length-e,b.length-f)?(c=e,f=c):d=e,e=Math.floor((d-c)/2+c);return e},a.prototype.diff_commonOverlap_=function(a,b){var c=a.length,d=b.length;if(0==c||0==d)return 0;c>d?a=a.substring(c-d):d>c&&(b=b.substring(0,c));var e=Math.min(c,d);if(a==b)return e;for(var f=0,g=1;;){var h=a.substring(e-g),i=b.indexOf(h);if(-1==i)return f;g+=i,(0==i||a.substring(e-g)==b.substring(0,g))&&(f=g,g++)}},a.prototype.diff_halfMatch_=function(a,b){function c(a,b,c){for(var d,e,f,h,i=a.substring(c,c+Math.floor(a.length/4)),j=-1,k="";-1!=(j=b.indexOf(i,j+1));){var l=g.diff_commonPrefix(a.substring(c),b.substring(j)),m=g.diff_commonSuffix(a.substring(0,c),b.substring(0,j));k.length<m+l&&(k=b.substring(j-m,j)+b.substring(j,j+l),d=a.substring(0,c-m),e=a.substring(c+l),f=b.substring(0,j-m),h=b.substring(j+l))}return 2*k.length>=a.length?[d,e,f,h,k]:null}if(this.Diff_Timeout<=0)return null;var d=a.length>b.length?a:b,e=a.length>b.length?b:a;if(d.length<4||2*e.length<d.length)return null;var f,g=this,h=c(d,e,Math.ceil(d.length/4)),i=c(d,e,Math.ceil(d.length/2));if(!h&&!i)return null;f=i?h&&h[4].length>i[4].length?h:i:h;var j,k,l,m;a.length>b.length?(j=f[0],k=f[1],l=f[2],m=f[3]):(l=f[0],m=f[1],j=f[2],k=f[3]);var n=f[4];return[j,k,l,m,n]},a.prototype.diff_cleanupSemantic=function(a){for(var e=!1,f=[],g=0,h=null,i=0,j=0,k=0,l=0,m=0;i<a.length;)a[i][0]==d?(f[g++]=i,j=l,k=m,l=0,m=0,h=a[i][1]):(a[i][0]==c?l+=a[i][1].length:m+=a[i][1].length,h&&h.length<=Math.max(j,k)&&h.length<=Math.max(l,m)&&(a.splice(f[g-1],0,[b,h]),a[f[g-1]+1][0]=c,g--,g--,i=g>0?f[g-1]:-1,j=0,k=0,l=0,m=0,h=null,e=!0)),i++;for(e&&this.diff_cleanupMerge(a),this.diff_cleanupSemanticLossless(a),i=1;i<a.length;){if(a[i-1][0]==b&&a[i][0]==c){var n=a[i-1][1],o=a[i][1],p=this.diff_commonOverlap_(n,o),q=this.diff_commonOverlap_(o,n);p>=q?(p>=n.length/2||p>=o.length/2)&&(a.splice(i,0,[d,o.substring(0,p)]),a[i-1][1]=n.substring(0,n.length-p),a[i+1][1]=o.substring(p),i++):(q>=n.length/2||q>=o.length/2)&&(a.splice(i,0,[d,n.substring(0,q)]),a[i-1][0]=c,a[i-1][1]=o.substring(0,o.length-q),a[i+1][0]=b,a[i+1][1]=n.substring(q),i++),i++}i++}},a.prototype.diff_cleanupSemanticLossless=function(b){function c(b,c){if(!b||!c)return 6;var d=b.charAt(b.length-1),e=c.charAt(0),f=d.match(a.nonAlphaNumericRegex_),g=e.match(a.nonAlphaNumericRegex_),h=f&&d.match(a.whitespaceRegex_),i=g&&e.match(a.whitespaceRegex_),j=h&&d.match(a.linebreakRegex_),k=i&&e.match(a.linebreakRegex_),l=j&&b.match(a.blanklineEndRegex_),m=k&&c.match(a.blanklineStartRegex_);return l||m?5:j||k?4:f&&!h&&i?3:h||i?2:f||g?1:0}for(var e=1;e<b.length-1;){if(b[e-1][0]==d&&b[e+1][0]==d){var f=b[e-1][1],g=b[e][1],h=b[e+1][1],i=this.diff_commonSuffix(f,g);if(i){var j=g.substring(g.length-i);f=f.substring(0,f.length-i),g=j+g.substring(0,g.length-i),h=j+h}for(var k=f,l=g,m=h,n=c(f,g)+c(g,h);g.charAt(0)===h.charAt(0);){f+=g.charAt(0),g=g.substring(1)+h.charAt(0),h=h.substring(1);var o=c(f,g)+c(g,h);o>=n&&(n=o,k=f,l=g,m=h)}b[e-1][1]!=k&&(k?b[e-1][1]=k:(b.splice(e-1,1),e--),b[e][1]=l,m?b[e+1][1]=m:(b.splice(e+1,1),e--))}e++}},a.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,a.whitespaceRegex_=/\s/,a.linebreakRegex_=/[\r\n]/,a.blanklineEndRegex_=/\n\r?\n$/,a.blanklineStartRegex_=/^\r?\n\r?\n/,a.prototype.diff_cleanupEfficiency=function(a){for(var e=!1,f=[],g=0,h=null,i=0,j=!1,k=!1,l=!1,m=!1;i<a.length;)a[i][0]==d?(a[i][1].length<this.Diff_EditCost&&(l||m)?(f[g++]=i,j=l,k=m,h=a[i][1]):(g=0,h=null),l=m=!1):(a[i][0]==b?m=!0:l=!0,h&&(j&&k&&l&&m||h.length<this.Diff_EditCost/2&&j+k+l+m==3)&&(a.splice(f[g-1],0,[b,h]),a[f[g-1]+1][0]=c,g--,h=null,j&&k?(l=m=!0,g=0):(g--,i=g>0?f[g-1]:-1,l=m=!1),e=!0)),i++;e&&this.diff_cleanupMerge(a)},a.prototype.diff_cleanupMerge=function(a){a.push([d,""]);for(var e,f=0,g=0,h=0,i="",j="";f<a.length;)switch(a[f][0]){case c:h++,j+=a[f][1],f++;break;case b:g++,i+=a[f][1],f++;break;case d:g+h>1?(0!==g&&0!==h&&(e=this.diff_commonPrefix(j,i),0!==e&&(f-g-h>0&&a[f-g-h-1][0]==d?a[f-g-h-1][1]+=j.substring(0,e):(a.splice(0,0,[d,j.substring(0,e)]),f++),j=j.substring(e),i=i.substring(e)),e=this.diff_commonSuffix(j,i),0!==e&&(a[f][1]=j.substring(j.length-e)+a[f][1],j=j.substring(0,j.length-e),i=i.substring(0,i.length-e))),0===g?a.splice(f-h,g+h,[c,j]):0===h?a.splice(f-g,g+h,[b,i]):a.splice(f-g-h,g+h,[b,i],[c,j]),f=f-g-h+(g?1:0)+(h?1:0)+1):0!==f&&a[f-1][0]==d?(a[f-1][1]+=a[f][1],a.splice(f,1)):f++,h=0,g=0,i="",j=""}""===a[a.length-1][1]&&a.pop();var k=!1;for(f=1;f<a.length-1;)a[f-1][0]==d&&a[f+1][0]==d&&(a[f][1].substring(a[f][1].length-a[f-1][1].length)==a[f-1][1]?(a[f][1]=a[f-1][1]+a[f][1].substring(0,a[f][1].length-a[f-1][1].length),a[f+1][1]=a[f-1][1]+a[f+1][1],a.splice(f-1,1),k=!0):a[f][1].substring(0,a[f+1][1].length)==a[f+1][1]&&(a[f-1][1]+=a[f+1][1],a[f][1]=a[f][1].substring(a[f+1][1].length)+a[f+1][1],a.splice(f+1,1),k=!0)),f++;k&&this.diff_cleanupMerge(a)},a.prototype.diff_xIndex=function(a,d){var e,f=0,g=0,h=0,i=0;for(e=0;e<a.length&&(a[e][0]!==c&&(f+=a[e][1].length),a[e][0]!==b&&(g+=a[e][1].length),!(f>d));e++)h=f,i=g;return a.length!=e&&a[e][0]===b?i:i+(d-h)},a.prototype.diff_prettyHtml=function(a){for(var e=[],f=/&/g,g=/</g,h=/>/g,i=/\n/g,j=0;j<a.length;j++){var k=a[j][0],l=a[j][1],m=l.replace(f,"&amp;").replace(g,"&lt;").replace(h,"&gt;").replace(i,"&para;<br>");switch(k){case c:e[j]='<ins style="background:#e6ffe6;">'+m+"</ins>";break;case b:e[j]='<del style="background:#ffe6e6;">'+m+"</del>";break;case d:e[j]="<span>"+m+"</span>"}}return e.join("")},a.prototype.diff_text1=function(a){for(var b=[],d=0;d<a.length;d++)a[d][0]!==c&&(b[d]=a[d][1]);return b.join("")},a.prototype.diff_text2=function(a){for(var c=[],d=0;d<a.length;d++)a[d][0]!==b&&(c[d]=a[d][1]);return c.join("")},a.prototype.diff_levenshtein=function(a){for(var e=0,f=0,g=0,h=0;h<a.length;h++){var i=a[h][0],j=a[h][1];switch(i){case c:f+=j.length;break;case b:g+=j.length;break;case d:e+=Math.max(f,g),f=0,g=0}}return e+=Math.max(f,g)},a.prototype.diff_toDelta=function(a){for(var e=[],f=0;f<a.length;f++)switch(a[f][0]){case c:e[f]="+"+encodeURI(a[f][1]);break;case b:e[f]="-"+a[f][1].length;break;case d:e[f]="="+a[f][1].length}return e.join("	").replace(/%20/g," ")},a.prototype.diff_fromDelta=function(a,e){for(var f=[],g=0,h=0,i=e.split(/\t/g),j=0;j<i.length;j++){var k=i[j].substring(1);switch(i[j].charAt(0)){case"+":try{f[g++]=[c,decodeURI(k)]}catch(l){throw new Error("Illegal escape in diff_fromDelta: "+k)}break;case"-":case"=":var m=parseInt(k,10);if(isNaN(m)||0>m)throw new Error("Invalid number in diff_fromDelta: "+k);var n=a.substring(h,h+=m);f[g++]="="==i[j].charAt(0)?[d,n]:[b,n];break;default:if(i[j])throw new Error("Invalid diff operation in diff_fromDelta: "+i[j])}}if(h!=a.length)throw new Error("Delta length ("+h+") does not equal source text length ("+a.length+").");return f},a.prototype.match_main=function(a,b,c){if(null==a||null==b||null==c)throw new Error("Null input. (match_main)");return c=Math.max(0,Math.min(c,a.length)),a==b?0:a.length?a.substring(c,c+b.length)==b?c:this.match_bitap_(a,b,c):-1},a.prototype.match_bitap_=function(a,b,c){function d(a,d){var e=a/b.length,g=Math.abs(c-d);return f.Match_Distance?e+g/f.Match_Distance:g?1:e}if(b.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var e=this.match_alphabet_(b),f=this,g=this.Match_Threshold,h=a.indexOf(b,c);-1!=h&&(g=Math.min(d(0,h),g),h=a.lastIndexOf(b,c+b.length),-1!=h&&(g=Math.min(d(0,h),g)));var i=1<<b.length-1;h=-1;for(var j,k,l,m=b.length+a.length,n=0;n<b.length;n++){for(j=0,k=m;k>j;)d(n,c+k)<=g?j=k:m=k,k=Math.floor((m-j)/2+j);m=k;var o=Math.max(1,c-k+1),p=Math.min(c+k,a.length)+b.length,q=Array(p+2);q[p+1]=(1<<n)-1;for(var r=p;r>=o;r--){var s=e[a.charAt(r-1)];if(q[r]=0===n?(q[r+1]<<1|1)&s:(q[r+1]<<1|1)&s|((l[r+1]|l[r])<<1|1)|l[r+1],q[r]&i){var t=d(n,r-1);if(g>=t){if(g=t,h=r-1,!(h>c))break;o=Math.max(1,2*c-h)}}}if(d(n+1,c)>g)break;l=q}return h},a.prototype.match_alphabet_=function(a){for(var b={},c=0;c<a.length;c++)b[a.charAt(c)]=0;for(var c=0;c<a.length;c++)b[a.charAt(c)]|=1<<a.length-c-1;return b},a.prototype.patch_addContext_=function(a,b){if(0!=b.length){for(var c=b.substring(a.start2,a.start2+a.length1),e=0;b.indexOf(c)!=b.lastIndexOf(c)&&c.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)e+=this.Patch_Margin,c=b.substring(a.start2-e,a.start2+a.length1+e);e+=this.Patch_Margin;var f=b.substring(a.start2-e,a.start2);f&&a.diffs.unshift([d,f]);var g=b.substring(a.start2+a.length1,a.start2+a.length1+e);g&&a.diffs.push([d,g]),a.start1-=f.length,a.start2-=f.length,a.length1+=f.length+g.length,a.length2+=f.length+g.length}},a.prototype.patch_make=function(e,f,g){var h,i;if("string"==typeof e&&"string"==typeof f&&"undefined"==typeof g)h=e,i=this.diff_main(h,f,!0),i.length>2&&(this.diff_cleanupSemantic(i),this.diff_cleanupEfficiency(i));else if(e&&"object"==typeof e&&"undefined"==typeof f&&"undefined"==typeof g)i=e,h=this.diff_text1(i);else if("string"==typeof e&&f&&"object"==typeof f&&"undefined"==typeof g)h=e,i=f;else{if("string"!=typeof e||"string"!=typeof f||!g||"object"!=typeof g)throw new Error("Unknown call format to patch_make.");h=e,i=g}if(0===i.length)return[];for(var j=[],k=new a.patch_obj,l=0,m=0,n=0,o=h,p=h,q=0;q<i.length;q++){var r=i[q][0],s=i[q][1];switch(l||r===d||(k.start1=m,k.start2=n),r){case c:k.diffs[l++]=i[q],k.length2+=s.length,p=p.substring(0,n)+s+p.substring(n);break;case b:k.length1+=s.length,k.diffs[l++]=i[q],p=p.substring(0,n)+p.substring(n+s.length);break;case d:s.length<=2*this.Patch_Margin&&l&&i.length!=q+1?(k.diffs[l++]=i[q],k.length1+=s.length,k.length2+=s.length):s.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(k,o),j.push(k),k=new a.patch_obj,l=0,o=p,m=n)}r!==c&&(m+=s.length),r!==b&&(n+=s.length)}return l&&(this.patch_addContext_(k,o),j.push(k)),j},a.prototype.patch_deepCopy=function(b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=new a.patch_obj;f.diffs=[];for(var g=0;g<e.diffs.length;g++)f.diffs[g]=e.diffs[g].slice();f.start1=e.start1,f.start2=e.start2,f.length1=e.length1,f.length2=e.length2,c[d]=f}return c},a.prototype.patch_apply=function(a,e){if(0==a.length)return[e,[]];a=this.patch_deepCopy(a);var f=this.patch_addPadding(a);e=f+e+f,this.patch_splitMax(a);for(var g=0,h=[],i=0;i<a.length;i++){var j,k=a[i].start2+g,l=this.diff_text1(a[i].diffs),m=-1;if(l.length>this.Match_MaxBits?(j=this.match_main(e,l.substring(0,this.Match_MaxBits),k),-1!=j&&(m=this.match_main(e,l.substring(l.length-this.Match_MaxBits),k+l.length-this.Match_MaxBits),(-1==m||j>=m)&&(j=-1))):j=this.match_main(e,l,k),-1==j)h[i]=!1,g-=a[i].length2-a[i].length1;else{h[i]=!0,g=j-k;var n;if(n=-1==m?e.substring(j,j+l.length):e.substring(j,m+this.Match_MaxBits),l==n)e=e.substring(0,j)+this.diff_text2(a[i].diffs)+e.substring(j+l.length);else{var o=this.diff_main(l,n,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(o)/l.length>this.Patch_DeleteThreshold)h[i]=!1;else{this.diff_cleanupSemanticLossless(o);for(var p,q=0,r=0;r<a[i].diffs.length;r++){var s=a[i].diffs[r];s[0]!==d&&(p=this.diff_xIndex(o,q)),s[0]===c?e=e.substring(0,j+p)+s[1]+e.substring(j+p):s[0]===b&&(e=e.substring(0,j+p)+e.substring(j+this.diff_xIndex(o,q+s[1].length))),s[0]!==b&&(q+=s[1].length)}}}}}return e=e.substring(f.length,e.length-f.length),[e,h]},a.prototype.patch_addPadding=function(a){for(var b=this.Patch_Margin,c="",e=1;b>=e;e++)c+=String.fromCharCode(e);for(var e=0;e<a.length;e++)a[e].start1+=b,a[e].start2+=b;var f=a[0],g=f.diffs;if(0==g.length||g[0][0]!=d)g.unshift([d,c]),f.start1-=b,f.start2-=b,f.length1+=b,f.length2+=b;else if(b>g[0][1].length){var h=b-g[0][1].length;g[0][1]=c.substring(g[0][1].length)+g[0][1],f.start1-=h,f.start2-=h,f.length1+=h,f.length2+=h}if(f=a[a.length-1],g=f.diffs,0==g.length||g[g.length-1][0]!=d)g.push([d,c]),f.length1+=b,f.length2+=b;else if(b>g[g.length-1][1].length){var h=b-g[g.length-1][1].length;g[g.length-1][1]+=c.substring(0,h),f.length1+=h,f.length2+=h}return c},a.prototype.patch_splitMax=function(e){for(var f=this.Match_MaxBits,g=0;g<e.length;g++)if(!(e[g].length1<=f)){var h=e[g];e.splice(g--,1);for(var i=h.start1,j=h.start2,k="";0!==h.diffs.length;){var l=new a.patch_obj,m=!0;for(l.start1=i-k.length,l.start2=j-k.length,""!==k&&(l.length1=l.length2=k.length,l.diffs.push([d,k]));0!==h.diffs.length&&l.length1<f-this.Patch_Margin;){var n=h.diffs[0][0],o=h.diffs[0][1];n===c?(l.length2+=o.length,j+=o.length,l.diffs.push(h.diffs.shift()),m=!1):n===b&&1==l.diffs.length&&l.diffs[0][0]==d&&o.length>2*f?(l.length1+=o.length,i+=o.length,m=!1,l.diffs.push([n,o]),h.diffs.shift()):(o=o.substring(0,f-l.length1-this.Patch_Margin),l.length1+=o.length,i+=o.length,n===d?(l.length2+=o.length,j+=o.length):m=!1,l.diffs.push([n,o]),o==h.diffs[0][1]?h.diffs.shift():h.diffs[0][1]=h.diffs[0][1].substring(o.length))}k=this.diff_text2(l.diffs),k=k.substring(k.length-this.Patch_Margin);var p=this.diff_text1(h.diffs).substring(0,this.Patch_Margin);""!==p&&(l.length1+=p.length,l.length2+=p.length,0!==l.diffs.length&&l.diffs[l.diffs.length-1][0]===d?l.diffs[l.diffs.length-1][1]+=p:l.diffs.push([d,p])),m||e.splice(++g,0,l)}}},a.prototype.patch_toText=function(a){for(var b=[],c=0;c<a.length;c++)b[c]=a[c];return b.join("")},a.prototype.patch_fromText=function(e){var f=[];if(!e)return f;for(var g=e.split("\n"),h=0,i=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;h<g.length;){var j=g[h].match(i);if(!j)throw new Error("Invalid patch string: "+g[h]);var k=new a.patch_obj;for(f.push(k),k.start1=parseInt(j[1],10),""===j[2]?(k.start1--,k.length1=1):"0"==j[2]?k.length1=0:(k.start1--,k.length1=parseInt(j[2],10)),k.start2=parseInt(j[3],10),""===j[4]?(k.start2--,k.length2=1):"0"==j[4]?k.length2=0:(k.start2--,k.length2=parseInt(j[4],10)),h++;h<g.length;){var l=g[h].charAt(0);try{var m=decodeURI(g[h].substring(1))}catch(n){throw new Error("Illegal escape in patch_fromText: "+m)}if("-"==l)k.diffs.push([b,m]);else if("+"==l)k.diffs.push([c,m]);else if(" "==l)k.diffs.push([d,m]);else{if("@"==l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+m)}h++}}return f},a.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},a.patch_obj.prototype.toString=function(){var a,e;a=0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1,e=0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2;for(var f,g=["@@ -"+a+" +"+e+" @@\n"],h=0;h<this.diffs.length;h++){switch(this.diffs[h][0]){case c:f="+";break;case b:f="-";break;case d:f=" "}g[h+1]=f+encodeURI(this.diffs[h][1])+"\n"}return g.join("").replace(/%20/g," ")},this.diff_match_patch=a,this.DIFF_DELETE=b,this.DIFF_INSERT=c,this.DIFF_EQUAL=d},{}],"Fq7WE+":[function(b,c,d){!function(b,e){"use strict";function f(a,b){var c,d,e=a.toLowerCase();for(b=[].concat(b),c=0;c<b.length;c+=1)if(d=b[c]){if(d.test&&d.test(a))return!0;if(d.toLowerCase()===e)return!0}}var g=e.prototype.trim,h=e.prototype.trimRight,i=e.prototype.trimLeft,j=function(a){return 1*a||0},k=function(a,b){if(1>b)return"";for(var c="";b>0;)1&b&&(c+=a),b>>=1,a+=a;return c},l=[].slice,m=function(a){return null==a?"\\s":a.source?a.source:"["+r.escapeRegExp(a)+"]"},n={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},o={};for(var p in n)o[n[p]]=p;o["'"]="#39";var q=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}var b=k,c=function(){return c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0])),c.format.call(null,c.cache[arguments[0]],arguments)};return c.format=function(c,d){var f,g,h,i,j,k,l,m=1,n=c.length,o="",p=[];for(g=0;n>g;g++)if(o=a(c[g]),"string"===o)p.push(c[g]);else if("array"===o){if(i=c[g],i[2])for(f=d[m],h=0;h<i[2].length;h++){if(!f.hasOwnProperty(i[2][h]))throw new Error(q('[_.sprintf] property "%s" does not exist',i[2][h]));f=f[i[2][h]]}else f=i[1]?d[i[1]]:d[m++];if(/[^s]/.test(i[8])&&"number"!=a(f))throw new Error(q("[_.sprintf] expecting number but found %s",a(f)));switch(i[8]){case"b":f=f.toString(2);break;case"c":f=e.fromCharCode(f);break;case"d":f=parseInt(f,10);break;case"e":f=i[7]?f.toExponential(i[7]):f.toExponential();break;case"f":f=i[7]?parseFloat(f).toFixed(i[7]):parseFloat(f);break;case"o":f=f.toString(8);break;case"s":f=(f=e(f))&&i[7]?f.substring(0,i[7]):f;break;case"u":f=Math.abs(f);break;case"x":f=f.toString(16);break;case"X":f=f.toString(16).toUpperCase()}f=/[def]/.test(i[8])&&i[3]&&f>=0?"+"+f:f,k=i[4]?"0"==i[4]?"0":i[4].charAt(1):" ",l=i[6]-e(f).length,j=i[6]?b(k,l):"",p.push(i[5]?f+j:j+f)}return p.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b)))throw new Error("[_.sprintf] huh?");if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw new Error("[_.sprintf] huh?");for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw new Error("[_.sprintf] huh?");f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");d.push(c)}b=b.substring(c[0].length)}return d},c}(),r={VERSION:"2.3.0",isBlank:function(a){return null==a&&(a=""),/^\s*$/.test(a)},stripTags:function(a){return null==a?"":e(a).replace(/<\/?[^>]+>/g,"")},capitalize:function(a){return a=null==a?"":e(a),a.charAt(0).toUpperCase()+a.slice(1)},chop:function(a,b){return null==a?[]:(a=e(a),b=~~b,b>0?a.match(new RegExp(".{1,"+b+"}","g")):[a])},clean:function(a){return r.strip(a).replace(/\s+/g," ")},count:function(a,b){if(null==a||null==b)return 0;a=e(a),b=e(b);for(var c=0,d=0,f=b.length;;){if(d=a.indexOf(b,d),-1===d)break;c++,d+=f}return c},chars:function(a){return null==a?[]:e(a).split("")},swapCase:function(a){return null==a?"":e(a).replace(/\S/g,function(a){return a===a.toUpperCase()?a.toLowerCase():a.toUpperCase()})},escapeHTML:function(a){return null==a?"":e(a).replace(/[&<>"']/g,function(a){return"&"+o[a]+";"})},unescapeHTML:function(a){return null==a?"":e(a).replace(/\&([^;]+);/g,function(a,b){var c;return b in n?n[b]:(c=b.match(/^#x([\da-fA-F]+)$/))?e.fromCharCode(parseInt(c[1],16)):(c=b.match(/^#(\d+)$/))?e.fromCharCode(~~c[1]):a})},escapeRegExp:function(a){return null==a?"":e(a).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(a,b,c,d){var e=r.chars(a);return e.splice(~~b,~~c,d),e.join("")},insert:function(a,b,c){return r.splice(a,b,0,c)},include:function(a,b){return""===b?!0:null==a?!1:-1!==e(a).indexOf(b)},join:function(){var a=l.call(arguments),b=a.shift();return null==b&&(b=""),a.join(b)},lines:function(a){return null==a?[]:e(a).split("\n")},reverse:function(a){return r.chars(a).reverse().join("")},startsWith:function(a,b){return""===b?!0:null==a||null==b?!1:(a=e(a),b=e(b),a.length>=b.length&&a.slice(0,b.length)===b)},endsWith:function(a,b){return""===b?!0:null==a||null==b?!1:(a=e(a),b=e(b),a.length>=b.length&&a.slice(a.length-b.length)===b)},succ:function(a){return null==a?"":(a=e(a),a.slice(0,-1)+e.fromCharCode(a.charCodeAt(a.length-1)+1))},titleize:function(a){return null==a?"":(a=e(a).toLowerCase(),a.replace(/(?:^|\s|-)\S/g,function(a){return a.toUpperCase()}))},camelize:function(a){return r.trim(a).replace(/[-_\s]+(.)?/g,function(a,b){return b?b.toUpperCase():""})},underscored:function(a){return r.trim(a).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(a){return r.trim(a).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(a){return r.titleize(e(a).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(a){return r.capitalize(r.underscored(a).replace(/_id$/,"").replace(/_/g," "))},trim:function(a,b){return null==a?"":!b&&g?g.call(a):(b=m(b),e(a).replace(new RegExp("^"+b+"+|"+b+"+$","g"),""))},ltrim:function(a,b){return null==a?"":!b&&i?i.call(a):(b=m(b),e(a).replace(new RegExp("^"+b+"+"),""))},rtrim:function(a,b){return null==a?"":!b&&h?h.call(a):(b=m(b),e(a).replace(new RegExp(b+"+$"),""))},truncate:function(a,b,c){return null==a?"":(a=e(a),c=c||"...",b=~~b,a.length>b?a.slice(0,b)+c:a)},prune:function(a,b,c){if(null==a)return"";if(a=e(a),b=~~b,c=null!=c?e(c):"...",a.length<=b)return a;var d=function(a){return a.toUpperCase()!==a.toLowerCase()?"A":" "},f=a.slice(0,b+1).replace(/.(?=\W*\w*$)/g,d);return f=f.slice(f.length-2).match(/\w\w/)?f.replace(/\s*\S+$/,""):r.rtrim(f.slice(0,f.length-1)),(f+c).length>a.length?a:a.slice(0,f.length)+c},words:function(a,b){return r.isBlank(a)?[]:r.trim(a,b).split(b||/\s+/)},pad:function(a,b,c,d){a=null==a?"":e(a),b=~~b;var f=0;switch(c?c.length>1&&(c=c.charAt(0)):c=" ",d){case"right":return f=b-a.length,a+k(c,f);case"both":return f=b-a.length,k(c,Math.ceil(f/2))+a+k(c,Math.floor(f/2));default:return f=b-a.length,k(c,f)+a}},lpad:function(a,b,c){return r.pad(a,b,c)},rpad:function(a,b,c){return r.pad(a,b,c,"right")},lrpad:function(a,b,c){return r.pad(a,b,c,"both")},sprintf:q,vsprintf:function(a,b){return b.unshift(a),q.apply(null,b)},toNumber:function(a,b){return a?(a=r.trim(a),a.match(/^-?\d+(?:\.\d+)?$/)?j(j(a).toFixed(~~b)):0/0):0},numberFormat:function(a,b,c,d){if(isNaN(a)||null==a)return"";a=a.toFixed(~~b),d="string"==typeof d?d:",";var e=a.split("."),f=e[0],g=e[1]?(c||".")+e[1]:"";return f.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+d)+g},strRight:function(a,b){if(null==a)return"";a=e(a),b=null!=b?e(b):b;var c=b?a.indexOf(b):-1;return~c?a.slice(c+b.length,a.length):a},strRightBack:function(a,b){if(null==a)return"";a=e(a),b=null!=b?e(b):b;var c=b?a.lastIndexOf(b):-1;return~c?a.slice(c+b.length,a.length):a},strLeft:function(a,b){if(null==a)return"";a=e(a),b=null!=b?e(b):b;var c=b?a.indexOf(b):-1;return~c?a.slice(0,c):a},strLeftBack:function(a,b){if(null==a)return"";a+="",b=null!=b?""+b:b;var c=a.lastIndexOf(b);return~c?a.slice(0,c):a},toSentence:function(a,b,c,d){b=b||", ",c=c||" and ";var e=a.slice(),f=e.pop();return a.length>2&&d&&(c=r.rtrim(b)+c),e.length?e.join(b)+c+f:f},toSentenceSerial:function(){var a=l.call(arguments);return a[3]=!0,r.toSentence.apply(r,a)},slugify:function(a){if(null==a)return"";var b="ąàáäâãåæăćęèéëêìíïîłńòóöôõøśșțùúüûñçżź",c="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",d=new RegExp(m(b),"g");return a=e(a).toLowerCase().replace(d,function(a){var d=b.indexOf(a);return c.charAt(d)||"-"}),r.dasherize(a.replace(/[^\w\s-]/g,""))},surround:function(a,b){return[b,a,b].join("")},quote:function(a,b){return r.surround(a,b||'"')},unquote:function(a,b){return b=b||'"',a[0]===b&&a[a.length-1]===b?a.slice(1,a.length-1):a},exports:function(){var a={};for(var b in this)this.hasOwnProperty(b)&&!b.match(/^(?:include|contains|reverse)$/)&&(a[b]=this[b]);return a},repeat:function(a,b,c){if(null==a)return"";if(b=~~b,null==c)return k(e(a),b);for(var d=[];b>0;d[--b]=a);return d.join(c)},naturalCmp:function(a,b){if(a==b)return 0;if(!a)return-1;if(!b)return 1;for(var c=/(\.\d+)|(\d+)|(\D+)/g,d=e(a).toLowerCase().match(c),f=e(b).toLowerCase().match(c),g=Math.min(d.length,f.length),h=0;g>h;h++){var i=d[h],j=f[h];if(i!==j){var k=parseInt(i,10);if(!isNaN(k)){var l=parseInt(j,10);if(!isNaN(l)&&k-l)return k-l}return j>i?-1:1}}return d.length===f.length?d.length-f.length:b>a?-1:1},levenshtein:function(a,b){if(null==a&&null==b)return 0;if(null==a)return e(b).length;if(null==b)return e(a).length;a=e(a),b=e(b);for(var c,d,f=[],g=0;g<=b.length;g++)for(var h=0;h<=a.length;h++)d=g&&h?a.charAt(h-1)===b.charAt(g-1)?c:Math.min(f[h],f[h-1],c)+1:g+h,c=f[h],f[h]=d;return f.pop()},toBoolean:function(a,b,c){return"number"==typeof a&&(a=""+a),"string"!=typeof a?!!a:(a=r.trim(a),f(a,b||["true","1"])?!0:f(a,c||["false","0"])?!1:void 0)}};r.strip=r.trim,r.lstrip=r.ltrim,r.rstrip=r.rtrim,r.center=r.lrpad,r.rjust=r.lpad,r.ljust=r.rpad,r.contains=r.include,r.q=r.quote,r.toBool=r.toBoolean,"undefined"!=typeof d&&("undefined"!=typeof c&&c.exports&&(c.exports=r),d._s=r),"function"==typeof a&&a.amd&&a("underscore.string",[],function(){return r}),b._=b._||{},b._.string=b._.str=r}(this,String)},{}],"underscore.string":[function(a,b){b.exports=a("Fq7WE+")},{}],18:[function(a,b){b.exports={name:"quilljs",version:"0.13.7",description:"Cross browser rich text editor",author:"Jason Chen <jhchen7@gmail.com>",homepage:"http://quilljs.com",contributors:["Byron Milligan <byronner@gmail.com>","Keegan Poppen <keegan.poppen@gmail.com>"],main:"index.js",dependencies:{eventemitter2:"~0.4.13",lodash:"~2.4.1","tandem-core":"~0.5.2","underscore.string":"~2.3.3"},devDependencies:{async:"~0.6.2",coffeeify:"~0.6.0",grunt:"~0.4.3","grunt-browserify":"~2.0.7","grunt-contrib-clean":"~0.5.0","grunt-contrib-coffee":"~0.10.1","grunt-contrib-concat":"~0.3.0","grunt-contrib-connect":"~0.7.1","grunt-contrib-jade":"~0.11.0","grunt-contrib-stylus":"~0.13.2","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.6.1","grunt-karma":"~0.8.0","grunt-newer":"~0.7.0","grunt-protractor-runner":"~0.2.4","grunt-shell":"~0.6.4",istanbul:"~0.2.6",jquery:"~1.11.0",karma:"~0.12.0","karma-chrome-launcher":"~0.1.2","karma-coffee-preprocessor":"~0.2.1","karma-coverage":"~0.2.0","karma-firefox-launcher":"~0.1.3","karma-html2js-preprocessor":"~0.1.0","karma-jasmine":"~0.2.0","karma-phantomjs-launcher":"~0.1.2","karma-safari-launcher":"~0.1.1","karma-sauce-launcher":"~0.2.2","load-grunt-tasks":"~0.4.0",protractor:"~0.21.0"},engines:{node:">=0.10"},license:"BSD-3-Clause",repository:{type:"git",url:"https://github.com/quilljs/quill"},bugs:{url:"https://github.com/quilljs/quill/issues"},scripts:{prepublish:"grunt coffee:src",postpublish:"grunt clean:coffee",test:"grunt test"},keywords:["editor","rich text","wysiwyg"]}},{}],19:[function(a,b){var c,d,e,f,g,h,i,j,k;k=a("lodash"),c=a("./dom"),e=a("./format"),f=a("./line"),g=a("./lib/linked-list"),h=a("./normalizer"),j=a("./utils"),i=a("tandem-core"),d=function(){function a(a,b){this.root=a,null==b&&(b={}),this.formats={},k.each(b.formats,k.bind(this.addFormat,this)),this.setHTML(this.root.innerHTML)}return a.prototype.addFormat=function(a,b){return k.isObject(b)||(b=e.FORMATS[a]),null!=this.formats[a]&&console.warn("Overwriting format",a,this.formats[a]),this.formats[a]=new e(this.root.ownerDocument,b)},a.prototype.appendLine=function(a){return this.insertLineBefore(a,null)},a.prototype.findLeafAt=function(a,b){var c,d,e;return e=this.findLineAt(a),c=e[0],d=e[1],null!=c?c.findLeafAt(d,b):[null,d]},a.prototype.findLine=function(a){for(var b;null!=a&&null==c.BLOCK_TAGS[a.tagName];)a=a.parentNode;return b=null!=a?this.lineMap[a.id]:null,(null!=b?b.node:void 0)===a?b:null},a.prototype.findLineAt=function(a){var b,c;if(!(this.lines.length>0))return[null,a];if(c=this.toDelta().endLength,a===c)return[this.lines.last,this.lines.last.length];if(a>c)return[null,a-c];for(b=this.lines.first;null!=b;){if(a<b.length)return[b,a];a-=b.length,b=b.next}return[null,a]},a.prototype.insertLineBefore=function(a,b){var d;return d=new f(this,a),null!=b?(c.isElement(a.parentNode)||this.root.insertBefore(a,b.node),this.lines.insertAfter(b.prev,d)):(c.isElement(a.parentNode)||this.root.appendChild(a),this.lines.append(d)),this.lineMap[d.id]=d,d},a.prototype.mergeLines=function(a,b){return b.length>1&&(1===a.length&&c.removeNode(a.leaves.last.node),k.each(c.getChildNodes(b.node),function(b){return b.tagName!==c.DEFAULT_BREAK_TAG?a.node.appendChild(b):void 0})),this.removeLine(b),a.rebuild()},a.prototype.optimizeLines=function(){return k.each(this.lines.toArray(),function(a){return a.optimize(),!0})},a.prototype.rebuild=function(){var a,b,d;for(b=this.lines.toArray(),a=this.root.firstChild,null!=a&&null!=c.LIST_TAGS[a.tagName]&&(a=a.firstChild),k.each(b,function(b){return function(c){for(var d,e;c.node!==a;){if(c.node.parentNode!==b.root&&(null!=(e=c.node.parentNode)?e.parentNode:void 0)!==b.root)return b.removeLine(c);a=h.normalizeLine(a),d=b.insertLineBefore(a,c),a=j.getNextLineNode(a,b.root)}return c.outerHTML!==a.outerHTML&&(c.node=h.normalizeLine(c.node),c.rebuild()),a=j.getNextLineNode(a,b.root)}}(this)),d=[];null!=a;)a=h.normalizeLine(a),this.appendLine(a),d.push(a=j.getNextLineNode(a,this.root));return d},a.prototype.removeLine=function(a){return null!=a.node.parentNode&&c.removeNode(c.LIST_TAGS[a.node.parentNode.tagName]&&1===a.node.parentNode.childNodes.length?a.node.parentNode:a.node),delete this.lineMap[a.id],this.lines.remove(a)},a.prototype.setHTML=function(a){return a=h.stripComments(a),a=h.stripWhitespace(a),this.root.innerHTML=a,this.lines=new g,this.lineMap={},this.rebuild()},a.prototype.splitLine=function(a,b){var c,d,e,f;return b=Math.min(b,a.length-1),f=j.splitNode(a.node,b,!0),c=f[0],d=f[1],a.node=c,a.rebuild(),e=this.insertLineBefore(d,a.next),e.formats=k.clone(a.formats),e.resetContent(),e},a.prototype.toDelta=function(){var a,b;return a=this.lines.toArray(),b=k.flatten(k.map(a,function(a){return k.clone(a.delta.ops)}),!0),new i.Delta(0,b)},a}(),b.exports=d},{"./dom":20,"./format":22,"./lib/linked-list":25,"./line":28,"./normalizer":38,"./utils":44,lodash:"4HJaAd","tandem-core":"38mxji"}],20:[function(a,b){var c,d,e;e=a("lodash"),e.str=a("underscore.string"),d=null,c={ELEMENT_NODE:1,NOBREAK_SPACE:"&nbsp;",TEXT_NODE:3,ZERO_WIDTH_NOBREAK_SPACE:"﻿",DEFAULT_BLOCK_TAG:"P",DEFAULT_BREAK_TAG:"BR",DEFAULT_INLINE_TAG:"SPAN",EMBED_TEXT:"!",FONT_SIZES:{"10px":1,"13px":2,"16px":3,"18px":4,"24px":5,"32px":6,"48px":7},KEYS:{BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},BLOCK_TAGS:{ADDRESS:"ADDRESS",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",BLOCKQUOTE:"BLOCKQUOTE",CANVAS:"CANVAS",DD:"DD",DIV:"DIV",DL:"DL",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FOOTER:"FOOTER",FORM:"FORM",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEADER:"HEADER",HGROUP:"HGROUP",LI:"LI",OL:"OL",OUTPUT:"OUTPUT",P:"P",PRE:"PRE",SECTION:"SECTION",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TR:"TR",UL:"UL",VIDEO:"VIDEO"},EMBED_TAGS:{IMG:"IMG"},LIST_TAGS:{OL:"OL",UL:"UL"},VOID_TAGS:{AREA:"AREA",BASE:"BASE",BR:"BR",COL:"COL",COMMAND:"COMMAND",EMBED:"EMBED",HR:"HR",IMG:"IMG",INPUT:"INPUT",KEYGEN:"KEYGEN",LINK:"LINK",META:"META",PARAM:"PARAM",SOURCE:"SOURCE",TRACK:"TRACK",WBR:"WBR"},addClass:function(a,b){return c.hasClass(a,b)?void 0:null!=a.classList?a.classList.add(b):null!=a.className?a.className=e.str.trim(a.className+" "+b):void 0
},addEventListener:function(a,b,c){return a.addEventListener(b,function(a){var e,f;return e=!d||"keydown"!==b&&"keyup"!==b?a:d,f=c(e),f||(a.preventDefault(),a.stopPropagation()),f})},clearAttributes:function(a,b){return null==b&&(b=[]),e.isString(b)&&(b=[b]),e.each(c.getAttributes(a),function(c,d){return e.indexOf(b,d)>-1?void 0:a.removeAttribute(d)})},getAttributes:function(a){var b,c,d,e,f,g,h;if(null==a.attributes)return{};for(c={},h=a.attributes,d=f=0,g=h.length;g>f;d=++f)e=h[d],b=a.attributes[d],c[b.name]=b.value;return c},getChildNodes:function(a){return e.map(a.childNodes)},getChildren:function(a){return e.map(a.children)},getDescendants:function(a){return e.map(a.getElementsByTagName("*"))},getClasses:function(a){return a.className.split(/\s+/)},getDefaultOption:function(a){return a.querySelector("option[selected]")},getSelectValue:function(a){return a.selectedIndex>-1?a.options[a.selectedIndex].value:""},getStyles:function(a){var b,c;return c=a.getAttribute("style")||"",b=e.reduce(c.split(";"),function(a,b){var c,d,f;return f=b.split(":"),c=f[0],d=f[1],c&&d&&(c=e.str.trim(c),d=e.str.trim(d),a[c.toLowerCase()]=d),a},{})},getText:function(a){switch(a.nodeType){case c.ELEMENT_NODE:return a.tagName===c.DEFAULT_BREAK_TAG?"":null!=c.EMBED_TAGS[a.tagName]?c.EMBED_TEXT:null!=a.textContent?a.textContent:null!=a.innerText?a.innerText.replace(/[\r\n]/g,""):"";case c.TEXT_NODE:return a.data||"";default:return""}},getTextNodes:function(a){var b,c,d;for(d=a.ownerDocument.createTreeWalker(a,NodeFilter.SHOW_TEXT,null,!1),c=[];b=d.nextNode();)c.push(b);return c},getWindow:function(a){return a.ownerDocument.defaultView||a.ownerDocument.parentWindow},hasClass:function(a,b){return null!=a.classList?a.classList.contains(b):null!=a.className?e.indexOf(c.getClasses(a),b)>-1:!1},isElement:function(a){return(null!=a?a.nodeType:void 0)===c.ELEMENT_NODE},isTextNode:function(a){return(null!=a?a.nodeType:void 0)===c.TEXT_NODE},moveChildren:function(a,b){return e.each(c.getChildNodes(b),function(b){return a.appendChild(b)})},normalize:function(a){var b,d,e,f;for(b=a.firstChild,f=[];null!=b;)e=b.nextSibling,c.isTextNode(b)&&(0===c.getText(b).length?c.removeNode(b):c.isTextNode(e)&&(e=e.nextSibling,d=c.getText(b)+c.getText(b.nextSibling),c.setText(b,d),c.removeNode(b.nextSibling))),f.push(b=e);return f},isIE:function(a){var b;return b=document.documentMode,b&&a>=b},isIOS:function(){return/iPhone|iPad/i.test(navigator.userAgent)},removeClass:function(a,b){var d;if(c.hasClass(a,b))return null!=a.classList?a.classList.remove(b):null!=a.className?(d=c.getClasses(a),d.splice(e.indexOf(d,b),1),a.className=d.join(" ")):void 0},removeNode:function(a){var b;return null!=(b=a.parentNode)?b.removeChild(a):void 0},replaceNode:function(a,b){return b.parentNode.replaceChild(a,b),a},resetSelect:function(a,b){var d;return null==b&&(b=!0),d=c.getDefaultOption(a),null!=d?d.selected=!0:a.selectedIndex=0,b?c.triggerEvent(a,"change"):void 0},selectOption:function(a,b,d){var f;return null==d&&(d=!0),f=e.isElement(b)?b.value:b,f?a.value=f:a.selectedIndex=-1,d?c.triggerEvent(a,"change"):void 0},setAttributes:function(a,b){return e.each(b,function(b,c){return a.setAttribute(c,b)})},setStyles:function(a,b){var c;return c=e.map(b,function(a,b){return""+b+": "+a}).join("; ")+";",a.setAttribute("style",c)},setText:function(a,b){switch(a.nodeType){case c.ELEMENT_NODE:return null!=a.textContent?a.textContent=b:a.innerText=b;case c.TEXT_NODE:return a.data=b}},switchTag:function(a,b){var d,f;return b=b.toUpperCase(),a.tagName===b?a:(f=a.ownerDocument.createElement(b),d=c.getAttributes(a),null==c.VOID_TAGS[b]&&this.moveChildren(f,a),a.parentNode.replaceChild(f,a),e.each(d,function(a,b){return f.setAttribute(b,a)}),f)},toggleClass:function(a,b,d){return null==d&&(d=!c.hasClass(a,b)),d?c.addClass(a,b):c.removeClass(a,b)},triggerEvent:function(a,b,f){var g,h,i;return null==f&&(f={}),e.indexOf(["keypress","keydown","keyup"],b)<0?(g=a.ownerDocument.createEvent("Event"),g.initEvent(b,f.bubbles,f.cancelable)):(g=a.ownerDocument.createEvent("KeyboardEvent"),d=e.clone(f),d.which=e.isNumber(f.key)?f.key:e.isString(f.key)?f.key.toUpperCase().charCodeAt(0):0,c.isIE(10)?(i=[],f.altKey&&i.push("Alt"),f.ctrlKey&&i.push("Control"),f.metaKey&&i.push("Meta"),f.shiftKey&&i.push("Shift"),g.initKeyboardEvent(b,f.bubbles,f.cancelable,a.ownerDocument.defaultView.window,0,0,i.join(" "),null,null)):(h=e.isFunction(g.initKeyboardEvent)?"initKeyboardEvent":"initKeyEvent",g[h](b,f.bubbles,f.cancelable,a.ownerDocument.defaultView.window,f.ctrlKey,f.altKey,f.shiftKey,f.metaKey,0,0))),a.dispatchEvent(g),d=null},unwrap:function(a){var b,d;return d=a.firstChild,b=a.nextSibling,e.each(c.getChildNodes(a),function(c){return a.parentNode.insertBefore(c,b)}),c.removeNode(a),d},wrap:function(a,b){var c;for(null!=b.parentNode&&b.parentNode.insertBefore(a,b),c=a;null!=c.firstChild;)c=a.firstChild;return c.appendChild(b),c}},b.exports=c},{lodash:"4HJaAd","underscore.string":"Fq7WE+"}],21:[function(a,b){var c,d,e,f,g,h,i,j;j=a("lodash"),c=a("./dom"),d=a("./document"),f=a("./line"),g=a("./renderer"),h=a("./selection"),i=a("tandem-core"),e=function(){function a(a,b,c){this.iframeContainer=a,this.quill=b,this.options=null!=c?c:{},this.renderer=new g(this.iframeContainer,this.options),this.root=this.renderer.root,this.doc=new d(this.root,this.options),this.delta=this.doc.toDelta(),this.selection=new h(this.doc,this.renderer.iframe,this.quill),this.timer=setInterval(j.bind(this.checkUpdate,this),this.options.pollInterval),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){return a.savedRange=b}}(this)),this.options.readOnly||this.enable()}return a.prototype.disable=function(){return this.enable(!1)},a.prototype.enable=function(a){return null==a&&(a=!0),this.root.setAttribute("contenteditable",a)},a.prototype.applyDelta=function(a,b){var c,d;return c=this._update(),c&&(d=c,c=c.transform(a,!0),a=a.transform(d,!1),this.delta=this.doc.toDelta()),a.isIdentity()||(a.startLength!==this.delta.endLength&&console.warn("Trying to apply delta to incorrect doc length",a,this.delta),a=this._trackDelta(function(b){return function(){return a.apply(b._insertAt,b._deleteAt,b._formatAt,b),b.selection.shiftAfter(0,0,j.bind(b.doc.optimizeLines,b.doc))}}(this)),this.delta=this.doc.toDelta(),this.innerHTML=this.root.innerHTML,a&&"silent"!==b&&this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,a,b)),c&&!c.isIdentity()&&"silent"!==b?this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,c,"user"):void 0},a.prototype.checkUpdate=function(a){var b,c;return null==a&&(a="user"),null==this.renderer.iframe.parentNode||null==this.root.parentNode?clearInterval(this.timer):(b=this._update(),b&&(c=this.delta,this.delta=c.compose(b),this.quill.emit(this.quill.constructor.events.TEXT_CHANGE,b,a)),b&&(a="silent"),this.selection.update(a))},a.prototype.getDelta=function(){return this.delta},a.prototype._deleteAt=function(a,b){return 0>=b?void 0:this.selection.shiftAfter(a,-1*b,function(c){return function(){var d,e,f,g,h,i,j;for(j=c.doc.findLineAt(a),f=j[0],i=j[1],d=f,g=f.length-i<=b&&i>0;null!=d&&b>0;)h=d.next,e=Math.min(d.length-i,b),0===i&&b>=d.length?c.doc.removeLine(d):d.deleteText(i,e),b-=e,d=h,i=0;return g&&f.next?c.doc.mergeLines(f,f.next):void 0}}(this))},a.prototype._formatAt=function(a,b,c,d){return this.selection.shiftAfter(a,0,function(e){return function(){var f,g,h,i,j;for(i=e.doc.findLineAt(a),g=i[0],h=i[1],j=[];null!=g&&b>0;)f=Math.min(b,g.length-h-1),g.formatText(h,f,c,d),b-=f,b>0&&g.format(c,d),b-=1,h=0,j.push(g=g.next);return j}}(this))},a.prototype._insertAt=function(a,b,d){return null==d&&(d={}),this.selection.shiftAfter(a,b.length,function(e){return function(){var f,g,h,i;return b=b.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),g=b.split("\n"),i=e.doc.findLineAt(a),f=i[0],h=i[1],j.each(g,function(a,b){var i;return null==f||f.length<=h?(b<g.length-1||a.length>0)&&(f=e.doc.appendLine(e.root.ownerDocument.createElement(c.DEFAULT_BLOCK_TAG)),h=0,f.insertText(h,a,d),f.format(d),i=null):(f.insertText(h,a,d),b<g.length-1&&(i=e.doc.splitLine(f,h+a.length),j.each(j.defaults({},d,f.formats),function(a,b){return f.format(b,d[b])}),h=0)),f=i})}}(this))},a.prototype._trackDelta=function(a){var b,c,d,e,f,g,h,i,k,l,m,n,o,p,q,r,s,t,u,v;o=null!=(r=this.savedRange)?r.start:void 0,a(),k=this.doc.toDelta();try{l=null!=(s=this.selection.getRange())?s.start:void 0,null!=o&&null!=l&&o<=this.delta.endLength&&l<=k.endLength&&(t=this.delta.split(o),p=t[0],q=t[1],u=k.split(l),m=u[0],n=u[1],e=m.decompose(p),f=n.decompose(q),c=e.merge(f))}catch(w){g=w}return d=k.decompose(this.delta),c&&d?(v=j.map([c,d],function(a){return j.reduce(a.ops,function(a,b){return null!=b.value&&(a+=b.value.length),a},0)}),h=v[0],i=v[1],b=h>h?c:d):b=c||d,b},a.prototype._update=function(){var a;return this.innerHTML===this.root.innerHTML?!1:(a=this._trackDelta(function(a){return function(){return a.selection.preserve(j.bind(a.doc.rebuild,a.doc)),a.selection.shiftAfter(0,0,j.bind(a.doc.optimizeLines,a.doc))}}(this)),this.innerHTML=this.root.innerHTML,a.isIdentity()?!1:a)},a}(),b.exports=e},{"./document":19,"./dom":20,"./line":28,"./renderer":40,"./selection":41,lodash:"4HJaAd","tandem-core":"38mxji"}],22:[function(a,b){var c,d,e,f;f=a("lodash"),c=a("./dom"),e=a("./utils"),d=function(){function a(a,b){this.document=a,this.config=b}return a.types={LINE:"line"},a.FORMATS={bold:{tag:"B",prepare:"bold"},italic:{tag:"I",prepare:"italic"},underline:{tag:"U",prepare:"underline"},strike:{tag:"S",prepare:"strikeThrough"},color:{style:"color","default":"rgb(0, 0, 0)",prepare:"foreColor"},background:{style:"backgroundColor","default":"rgb(255, 255, 255)",prepare:"backColor"},font:{style:"fontFamily","default":"'Helvetica', 'Arial', sans-serif",prepare:"fontName"},size:{style:"fontSize","default":"13px",prepare:function(a,b){return a.execCommand("fontSize",!1,e.convertFontSize(b))}},link:{tag:"A",attribute:"href"},image:{tag:"IMG",attribute:"src"},align:{type:a.types.LINE,style:"textAlign","default":"left"},bullet:{type:a.types.LINE,exclude:"list",parentTag:"UL",tag:"LI"},list:{type:a.types.LINE,exclude:"bullet",parentTag:"OL",tag:"LI"}},a.prototype.add=function(b,d){var g,h,i,j;return d?this.value(b)===d?b:(f.isString(this.config.parentTag)&&(h=this.document.createElement(this.config.parentTag),c.wrap(h,b),b.parentNode.tagName===(null!=(i=b.parentNode.previousSibling)?i.tagName:void 0)&&e.mergeNodes(b.parentNode.previousSibling,b.parentNode),b.parentNode.tagName===(null!=(j=b.parentNode.nextSibling)?j.tagName:void 0)&&e.mergeNodes(b.parentNode,b.parentNode.nextSibling)),f.isString(this.config.tag)&&(g=this.document.createElement(this.config.tag),null!=c.VOID_TAGS[g.tagName]?(null!=b.parentNode&&b.parentNode.insertBefore(g,b),c.removeNode(b),b=g):b=this.isType(a.types.LINE)?c.switchTag(b,this.config.tag):c.wrap(g,b)),(f.isString(this.config.style)||f.isString(this.config.attribute)||f.isString(this.config["class"]))&&(f.isString(this.config["class"])&&(b=this.remove(b)),c.isTextNode(b)&&(b=c.wrap(this.document.createElement(c.DEFAULT_INLINE_TAG),b)),f.isString(this.config.style)&&d!==this.config["default"]&&(b.style[this.config.style]=d),f.isString(this.config.attribute)&&b.setAttribute(this.config.attribute,d),f.isString(this.config["class"])&&c.addClass(b,this.config["class"]+d)),b):this.remove(b)},a.prototype.isType=function(a){return a===this.config.type},a.prototype.match=function(a){var b,d,e,g,h;if(!c.isElement(a))return!1;if(f.isString(this.config.parentTag)&&(null!=(g=a.parentNode)?g.tagName:void 0)!==this.config.parentTag)return!1;if(f.isString(this.config.tag)&&a.tagName!==this.config.tag)return!1;if(f.isString(this.config.style)&&(!a.style[this.config.style]||a.style[this.config.style]===this.config["default"]))return!1;if(f.isString(this.config.attribute)&&!a.hasAttribute(this.config.attribute))return!1;if(f.isString(this.config["class"])){for(h=c.getClasses(a),d=0,e=h.length;e>d;d++)if(b=h[d],0===b.indexOf(this.config["class"]))return!0;return!1}return!0},a.prototype.prepare=function(a){return f.isString(this.config.prepare)?this.document.execCommand(this.config.prepare,!1,a):f.isFunction(this.config.prepare)?this.config.prepare(this.document,a):void 0},a.prototype.remove=function(b){var d,g,h,i;if(!this.match(b))return b;if(f.isString(this.config.style)&&(b.style[this.config.style]="",b.getAttribute("style")||b.removeAttribute("style")),f.isString(this.config.attribute)&&b.removeAttribute(this.config.attribute),f.isString(this.config["class"])){for(i=c.getClasses(b),g=0,h=i.length;h>g;g++)d=i[g],0===d.indexOf(this.config["class"])&&c.removeClass(b,d);b.getAttribute("class")||b.removeAttribute("class")}return f.isString(this.config.tag)&&(this.isType(a.types.LINE)?(null!=b.previousSibling&&e.splitAncestors(b,b.parentNode.parentNode),null!=b.nextSibling&&e.splitAncestors(b.nextSibling,b.parentNode.parentNode),b=c.switchTag(b,c.DEFAULT_BLOCK_TAG)):(b=c.switchTag(b,c.DEFAULT_INLINE_TAG),null!=c.EMBED_TAGS[this.config.tag]&&c.setText(b,c.EMBED_TEXT))),f.isString(this.config.parentTag)&&c.unwrap(b.parentNode),b.tagName!==c.DEFAULT_INLINE_TAG||b.hasAttributes()||(b=c.unwrap(b)),b},a.prototype.value=function(a){var b,d,e,g;if(!this.match(a))return void 0;if(f.isString(this.config.attribute))return a.getAttribute(this.config.attribute)||void 0;if(f.isString(this.config.style))return a.style[this.config.style]||void 0;if(f.isString(this.config["class"])){for(g=c.getClasses(a),d=0,e=g.length;e>d;d++)if(b=g[d],0===b.indexOf(this.config["class"]))return b.slice(this.config["class"].length)}else if(f.isString(this.config.tag))return!0;return void 0},a}(),b.exports=d},{"./dom":20,"./utils":44,lodash:"4HJaAd"}],23:[function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=a("lodash"),c=a("./dom"),d=a("./format"),f=a("./lib/linked-list"),g=a("./utils"),e=function(a){function b(a,d){this.node=a,this.formats=h.clone(d),this.id=h.uniqueId(b.ID_PREFIX),this.text=c.getText(this.node),this.length=this.text.length}return j(b,a),b.ID_PREFIX="leaf-",b.isLeafNode=function(a){return c.isTextNode(a)||null==a.firstChild},b.prototype.getFormats=function(){return this.formats},b.prototype.deleteText=function(a,b){var d;if(b>0)return this.text=this.text.slice(0,a)+this.text.slice(a+b),this.length=this.text.length,null!=c.EMBED_TAGS[this.node.tagName]?(d=this.node.ownerDocument.createTextNode(this.text),this.node=c.replaceNode(d,this.node)):c.setText(this.node,this.text)},b.prototype.insertText=function(a,b){var d;return this.text=this.text.slice(0,a)+b+this.text.slice(a),c.isTextNode(this.node)?c.setText(this.node,this.text):(d=this.node.ownerDocument.createTextNode(b),this.node.tagName===c.DEFAULT_BREAK_TAG?c.replaceNode(d,this.node):this.node.appendChild(d),this.node=d),this.length=this.text.length},b}(f.Node),b.exports=e},{"./dom":20,"./format":22,"./lib/linked-list":25,"./utils":44,lodash:"4HJaAd"}],24:[function(a,b){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("../dom"),e=a("./picker"),c=function(a){function b(){b.__super__.constructor.apply(this,arguments),d.addClass(this.container,"sc-color-picker")}return g(b,a),b.prototype.buildItem=function(a,c,d){var e;return e=b.__super__.buildItem.call(this,a,c,d),e.style.backgroundColor=c.value,e},b}(e),b.exports=c},{"../dom":20,"./picker":26}],25:[function(a,b){var c,d;d=function(){function a(a){this.data=a,this.prev=this.next=null}return a}(),c=function(){function a(){this.length=0,this.first=this.last=null}return a.Node=d,a.prototype.append=function(a){return null!=this.first?(a.next=null,this.last.next=a):this.first=a,a.prev=this.last,this.last=a,this.length+=1},a.prototype.insertAfter=function(a,b){return b.prev=a,null!=a?(b.next=a.next,null!=a.next&&(a.next.prev=b),a.next=b,a===this.last&&(this.last=b)):(b.next=this.first,this.first.prev=b,this.first=b),this.length+=1},a.prototype.remove=function(a){return this.length>1?(null!=a.prev&&(a.prev.next=a.next),null!=a.next&&(a.next.prev=a.prev),a===this.first&&(this.first=a.next),a===this.last&&(this.last=a.prev)):this.first=this.last=null,a.prev=a.next=null,this.length-=1},a.prototype.toArray=function(){var a,b;for(a=[],b=this.first;null!=b;)a.push(b),b=b.next;return a},a}(),b.exports=c},{}],26:[function(a,b){var c,d,e,f;f=a("lodash"),c=a("../dom"),d=a("../normalizer"),e=function(){function a(a){this.select=a,this.container=this.select.ownerDocument.createElement("span"),this.buildPicker(),c.addClass(this.container,"sc-picker"),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),c.addEventListener(this.select.ownerDocument,"click",function(a){return function(){return a.close(),!0}}(this)),c.addEventListener(this.label,"click",function(a){return function(){return f.defer(function(){return c.toggleClass(a.container,"sc-expanded")})}}(this)),c.addEventListener(this.select,"change",function(a){return function(){var b,d;return a.select.selectedIndex>-1&&(b=a.container.querySelectorAll(".sc-picker-item")[a.select.selectedIndex],d=a.select.options[a.select.selectedIndex]),a.selectItem(b,!1),c.toggleClass(a.label,"sc-active",d!==c.getDefaultOption(a.select))}}(this))}return a.TEMPLATE='<span class="sc-picker-label"></span><span class="sc-picker-options"></span>',a.prototype.buildItem=function(a,b,d){var e;return e=this.select.ownerDocument.createElement("span"),e.setAttribute("data-value",b.getAttribute("value")),c.addClass(e,"sc-picker-item"),c.setText(e,c.getText(b)),this.select.selectedIndex===d&&this.selectItem(e,!1),c.addEventListener(e,"click",function(a){return function(){return a.selectItem(e,!0),a.close()}}(this)),e},a.prototype.buildPicker=function(){var b;return f.each(c.getAttributes(this.select),function(a){return function(b,c){return a.container.setAttribute(c,b)}}(this)),this.container.innerHTML=d.stripWhitespace(a.TEMPLATE),this.label=this.container.querySelector(".sc-picker-label"),b=this.container.querySelector(".sc-picker-options"),f.each(this.select.options,function(a){return function(c,d){var e;return e=a.buildItem(b,c,d),b.appendChild(e)}}(this))},a.prototype.close=function(){return c.removeClass(this.container,"sc-expanded")},a.prototype.selectItem=function(a,b){var d,e;return d=this.container.querySelector(".sc-selected"),null!=d&&c.removeClass(d,"sc-selected"),null!=a?(e=a.getAttribute("data-value"),c.addClass(a,"sc-selected"),c.setText(this.label,c.getText(a)),c.selectOption(this.select,e,b),this.label.setAttribute("data-value",e)):(this.label.innerHTML="&nbsp;",this.label.removeAttribute("data-value"))},a}(),b.exports=e},{"../dom":20,"../normalizer":38,lodash:"4HJaAd"}],27:[function(a,b){var c,d;d=a("lodash"),c=function(){function a(a,b){this.start=a,this.end=b}return a.compare=function(a,b){return a===b?!0:null==a||null==b?!1:a.equals(b)},a.prototype.equals=function(a){return null==a?!1:this.start===a.start&&this.end===a.end},a.prototype.shift=function(a,b){var c;return c=d.map([this.start,this.end],function(c){return a>c?c:b>=0?c+b:Math.max(a,c+b)}),this.start=c[0],this.end=c[1],c},a.prototype.isCollapsed=function(){return this.start===this.end},a}(),b.exports=c},{lodash:"4HJaAd"}],28:[function(a,b){var c,d,e,f,g,h,i,j,k,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};k=a("lodash"),c=a("./dom"),d=a("./format"),e=a("./leaf"),f=a("./line"),g=a("./lib/linked-list"),h=a("./normalizer"),j=a("./utils"),i=a("tandem-core"),f=function(a){function b(a,d){this.doc=a,this.node=d,this.id=k.uniqueId(b.ID_PREFIX),this.formats={},c.addClass(this.node,b.CLASS_NAME),this.rebuild(),b.__super__.constructor.call(this,this.node)}return m(b,a),b.CLASS_NAME="line",b.ID_PREFIX="line-",b.prototype.buildLeaves=function(a,b){return k.each(c.getChildNodes(a),function(a){return function(c){var f;return c=h.normalizeNode(c),f=k.clone(b),k.each(a.doc.formats,function(a,b){return!a.isType(d.types.LINE)&&a.match(c)?f[b]=a.value(c):void 0}),e.isLeafNode(c)?a.leaves.append(new e(c,f)):a.buildLeaves(c,f)}}(this))},b.prototype.deleteText=function(a,b){var c,d,e;if(b>0){for(e=this.findLeafAt(a),d=e[0],a=e[1];null!=d&&b>0;)c=Math.min(b,d.length-a),d.deleteText(a,c),b-=c,d=d.next,a=0;return this.rebuild()}},b.prototype.findLeaf=function(a){var b;for(b=this.leaves.first;null!=b;){if(b.node===a)return b;b=b.next}return null},b.prototype.findLeafAt=function(a,b){var c;if(null==b&&(b=!1),a>=this.length-1)return[this.leaves.last,this.leaves.last.length];for(c=this.leaves.first;null!=c;){if(a<c.length||a===c.length&&b)return[c,a];a-=c.length,c=c.next}return[this.leaves.last,a-this.leaves.last.length]},b.prototype.format=function(a,b){var c;return k.isObject(a)?c=a:(c={},c[a]=b),k.each(c,function(a){return function(b,c){var e,f;return f=a.doc.formats[c],f.isType(d.types.LINE)&&(f.config.exclude&&a.formats[f.config.exclude]&&(e=a.doc.formats[f.config.exclude],null!=e&&(a.node=e.remove(a.node),delete a.formats[f.config.exclude])),a.node=f.add(a.node,b)),b?a.formats[c]=b:delete a.formats[c]}}(this)),this.resetContent()},b.prototype.formatText=function(a,b,c,e){var f,g,h,i,k,l,m,n,o,p;if(n=this.findLeafAt(a),g=n[0],h=n[1],f=this.doc.formats[c],null!=f&&f.config.type!==d.types.LINE){for(;null!=g&&b>0;){if(k=g.next,e&&g.formats[c]!==e||!e&&null!=g.formats[c]){if(m=g.node,null!=g.formats[c])for(j.splitAncestors(m,this.node);!f.match(m);)m=m.parentNode;h>0&&(o=j.splitNode(m,h),i=o[0],m=o[1]),g.length>h+b&&(p=j.splitNode(m,b),m=p[0],l=p[1]),f.add(m,e)}b-=g.length-h,h=0,g=k}return this.rebuild()}},b.prototype.insertText=function(a,b,c){var d,e,f,g,h,i,l;return null==c&&(c={}),b.length>0?(i=this.findLeafAt(a),d=i[0],e=i[1],k.isEqual(d.formats,c)?(d.insertText(e,b),this.resetContent()):(g=k.reduce(c,function(a){return function(b,c,d){return a.doc.formats[d].add(b,c)}}(this),this.node.ownerDocument.createTextNode(b)),l=j.splitNode(d.node,e),h=l[0],f=l[1],f&&(f=j.splitAncestors(f,this.node)),this.node.insertBefore(g,f),this.rebuild())):void 0},b.prototype.optimize=function(){return h.optimizeLine(this.node),this.rebuild()},b.prototype.rebuild=function(a){return null==a&&(a=!1),!a&&null!=this.outerHTML&&this.outerHTML===this.node.outerHTML&&k.all(this.leaves.toArray(),function(a){return null!=a.node.parentNode})?!1:(this.node=h.normalizeNode(this.node),0!==j.getNodeLength(this.node)||this.node.querySelector(c.DEFAULT_BREAK_TAG)||this.node.appendChild(this.node.ownerDocument.createElement(c.DEFAULT_BREAK_TAG)),this.leaves=new g,this.formats=k.reduce(this.doc.formats,function(a){return function(b,c,e){return c.isType(d.types.LINE)&&(c.match(a.node)?b[e]=c.value(a.node):delete b[e]),b}}(this),this.formats),this.buildLeaves(this.node,{}),this.resetContent(),!0)},b.prototype.resetContent=function(){var a;return this.node.id!==this.id&&(this.node.id=this.id),this.outerHTML=this.node.outerHTML,this.length=1,a=k.map(this.leaves.toArray(),function(a){return function(b){return a.length+=b.length,new i.InsertOp(b.text,b.formats)}}(this)),a.push(new i.InsertOp("\n",this.formats)),this.delta=new i.Delta(0,this.length,a)},b}(g.Node),b.exports=f},{"./dom":20,"./format":22,"./leaf":23,"./lib/linked-list":25,"./line":28,"./normalizer":38,"./utils":44,lodash:"4HJaAd","tandem-core":"38mxji"}],29:[function(a,b){var c,d,e,f,g;g=a("lodash"),d=a("../dom"),e=a("../format"),f=a("tandem-core"),c=function(){function a(a,b){this.quill=a,this.options=b,null!=this.options.button&&this.attachButton(this.options.button),this.options.enabled&&this.enable(),this.quill.addFormat("author",{"class":"author-"}),null!=this.options.authorId&&(this.quill.on(this.quill.constructor.events.PRE_EVENT,function(a){return function(b,c,d){var e,h;return b===a.quill.constructor.events.TEXT_CHANGE&&"user"===d?(g.each(c.ops,function(b){return f.InsertOp.isInsert(b)||g.keys(b.attributes).length>0?b.attributes.author=a.options.authorId:void 0}),h=new f.Delta(c.endLength,[new f.RetainOp(0,c.endLength)]),e={author:a.options.authorId},c.apply(function(a,b){return h=h.compose(f.Delta.makeRetainDelta(c.endLength,a,b.length,e))},function(){},function(a,b){return h=h.compose(f.Delta.makeRetainDelta(c.endLength,a,b,e))}),a.quill.updateContents(h,"silent")):void 0}}(this)),this.addAuthor(this.options.authorId,this.options.color))}return a.DEFAULTS={authorId:null,color:"blue",enabled:!1},a.prototype.addAuthor=function(a,b){var c;return c={},c[".authorship .author-"+a]={"background-color":""+b},this.quill.addStyles(c)},a.prototype.attachButton=function(a){return d.addEventListener(a,"click",function(b){return function(){return d.toggleClass(a,"sc-on"),b.enable(d.hasClass(a,"sc-on"))}}(this))},a.prototype.enable=function(a){return null==a&&(a=!0),d.toggleClass(this.quill.root,"authorship",a)},a.prototype.disable=function(){return this.enable(!1)},a}(),b.exports=c},{"../dom":20,"../format":22,lodash:"4HJaAd","tandem-core":"38mxji"}],30:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("lodash"),c=a("../dom"),e=a("./tooltip"),d=function(a){function b(a,d){this.quill=a,this.options=d,this.options.styles=f.defaults(this.options.styles,e.DEFAULTS.styles),this.options=f.defaults(this.options,e.DEFAULTS),b.__super__.constructor.call(this,this.quill,this.options),this.preview=this.container.querySelector(".preview"),this.textbox=this.container.querySelector(".input"),c.addClass(this.container,"image-tooltip-container"),this.initListeners()}return h(b,a),b.DEFAULTS={styles:{".image-tooltip-container":{margin:"25px",padding:"10px",width:"300px"},".image-tooltip-container:after":{clear:"both",content:'""',display:"table"},".image-tooltip-container .preview":{margin:"10px 0px",position:"relative",border:"1px dashed #000",height:"200px"},".image-tooltip-container .preview span":{display:"inline-block",position:"absolute","text-align":"center",top:"40%",width:"100%"},".image-tooltip-container img":{bottom:"0",left:"0",margin:"auto","max-height":"100%","max-width":"100%",position:"absolute",right:"0",top:"0"},".image-tooltip-container .input":{"box-sizing":"border-box",width:"100%"},".image-tooltip-container a":{border:"1px solid black","box-sizing":"border-box",display:"inline-block","float":"left",padding:"5px","text-align":"center",width:"50%"}},template:'<input class="input" type="textbox"> <div class="preview"> <span>Preview</span> </div> <a href="javascript:;" class="cancel">Cancel</a> <a href="javascript:;" class="insert">Insert</a>'},b.prototype.initListeners=function(){return c.addEventListener(this.container.querySelector(".insert"),"click",f.bind(this.insertImage,this)),c.addEventListener(this.container.querySelector(".cancel"),"click",f.bind(this.hide,this)),c.addEventListener(this.textbox,"input",f.bind(this._preview,this)),this.initTextbox(this.textbox,this.insertImage,this.hide),this.quill.onModuleLoad("toolbar",function(a){return function(b){return b.initFormat("image",f.bind(a._onToolbar,a))}}(this))},b.prototype.insertImage=function(){var a,b;return b=this._normalizeURL(this.textbox.value),null==this.range&&(this.range=new Range(0,0)),this.range&&(this.preview.innerHTML="<span>Preview</span>",this.textbox.value="",a=this.range.end,this.quill.insertEmbed(a,"image",b,"user"),this.quill.setSelection(a+1,a+1)),this.hide()},b.prototype._onToolbar=function(a,b){return b?(this.textbox.value||(this.textbox.value="http://"),this.show(),this.textbox.focus(),f.defer(function(a){return function(){return a.textbox.setSelectionRange(a.textbox.value.length,a.textbox.value.length)}}(this))):this.quill.deleteText(a,"user")},b.prototype._preview=function(){var a;if(this._matchImageURL(this.textbox.value))return"IMG"===this.preview.firstChild.tagName?this.preview.firstChild.setAttribute("src",this.textbox.value):(a=this.preview.ownerDocument.createElement("img"),a.setAttribute("src",this.textbox.value),this.preview.replaceChild(a,this.preview.firstChild))},b.prototype._matchImageURL=function(a){return/^https?:\/\/.+\.(jp?g|gif|png)$/.test(a)},b.prototype._normalizeURL=function(a){return/^https?:\/\//.test(a)||(a="http://"+a),a},b}(e),b.exports=d},{"../dom":20,"./tooltip":36,lodash:"4HJaAd"}],31:[function(a,b){var c,d,e,f,g;g=a("lodash"),c=a("../dom"),e=a("../line"),f=a("tandem-core"),d=function(){function a(a){this.quill=a,this.hotkeys={},this._initListeners(),this._initHotkeys(),this._initDeletes()}return a.hotkeys={BOLD:{key:"B",metaKey:!0},INDENT:{key:c.KEYS.TAB,shiftKey:!1},ITALIC:{key:"I",metaKey:!0},OUTDENT:{key:c.KEYS.TAB,shiftKey:!0},UNDERLINE:{key:"U",metaKey:!0}},a.prototype.addHotkey=function(a,b){var c,d;return a=g.isObject(a)?g.clone(a):{key:a},a.callback=b,c=g.isNumber(a.key)?a.key:a.key.toUpperCase().charCodeAt(0),null==(d=this.hotkeys)[c]&&(d[c]=[]),this.hotkeys[c].push(a)},a.prototype.toggleFormat=function(a,b){var c,d,e;return c=a.isCollapsed()?this.quill.getContents(Math.max(0,a.start-1),a.end):this.quill.getContents(a),e=0===c.ops.length||!g.all(c.ops,function(a){return a.attributes[b]}),a.isCollapsed()?this.quill.prepareFormat(b,e):this.quill.formatText(a,b,e,"user"),d=this.quill.getModule("toolbar"),null!=d?d.setActive(b,e):void 0},a.prototype._initDeletes=function(){return g.each([c.KEYS.DELETE,c.KEYS.BACKSPACE],function(a){return function(b){return a.addHotkey(b,function(){return a.quill.getLength()>1})}}(this))},a.prototype._initHotkeys=function(){return this.addHotkey(a.hotkeys.INDENT,function(a){return function(b){return a._onTab(b,!1),!1}}(this)),this.addHotkey(a.hotkeys.OUTDENT,function(){return function(){return!1}}(this)),g.each(["bold","italic","underline"],function(b){return function(c){return b.addHotkey(a.hotkeys[c.toUpperCase()],function(a){return b.toggleFormat(a,c),!1})}}(this))},a.prototype._initListeners=function(){return c.addEventListener(this.quill.root,"keydown",function(a){return function(b){var c,d;return c=!1,d=a.quill.getSelection(),g.each(a.hotkeys[b.which],function(a){return null!=a.metaKey&&b.metaKey!==a.metaKey&&b.ctrlKey!==a.metaKey||null!=a.shiftKey&&b.shiftKey!==a.shiftKey?void 0:c=a.callback(d)===!1||c}),!c}}(this))},a.prototype._onTab=function(a,b){var c;return null==b&&(b=!1),c=f.Delta.makeDelta({startLength:this.quill.getLength(),ops:[{start:0,end:a.start},{value:"	"},{start:a.end,end:this.quill.getLength()}]}),this.quill.updateContents(c),this.quill.setSelection(a.start+1,a.start+1)},a}(),b.exports=d},{"../dom":20,"../line":28,lodash:"4HJaAd","tandem-core":"38mxji"}],32:[function(a,b){var c,d,e,f,g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};f=a("lodash"),c=a("../dom"),e=a("./tooltip"),d=function(a){function b(a,d){this.quill=a,this.options=d,this.options.styles=f.defaults(this.options.styles,e.DEFAULTS.styles),this.options=f.defaults(this.options,e.DEFAULTS),b.__super__.constructor.call(this,this.quill,this.options),c.addClass(this.container,"link-tooltip-container"),this.textbox=this.container.querySelector(".input"),this.link=this.container.querySelector(".url"),this.initListeners()}return h(b,a),b.DEFAULTS={maxLength:50,styles:{".link-tooltip-container":{padding:"5px 10px"},".link-tooltip-container input.input":{width:"170px"},".link-tooltip-container input.input, .link-tooltip-container a.done, .link-tooltip-container.editing a.url, .link-tooltip-container.editing a.change":{display:"none"},".link-tooltip-container.editing input.input, .link-tooltip-container.editing a.done":{display:"inline-block"}},template:'<span class="title">Visit URL:&nbsp;</span> <a href="#" class="url" target="_blank" href="about:blank"></a> <input class="input" type="text"> <span>&nbsp;&#45;&nbsp;</span> <a href="javascript:;" class="change">Change</a> <a href="javascript:;" class="done">Done</a>'},b.prototype.initListeners=function(){return this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){var c;
if(null!=b&&b.isCollapsed())return c=a._findAnchor(b),c?(a.setMode(c.href,!1),a.show(c)):(a.range=null,a.hide())}}(this)),c.addEventListener(this.container.querySelector(".done"),"click",f.bind(this.saveLink,this)),c.addEventListener(this.container.querySelector(".change"),"click",function(a){return function(){return a.setMode(a.link.href,!0)}}(this)),this.initTextbox(this.textbox,this.saveLink,this.hide),this.quill.onModuleLoad("toolbar",function(a){return function(b){return b.initFormat("link",f.bind(a._onToolbar,a))}}(this))},b.prototype.saveLink=function(){var a;return a=this._normalizeURL(this.textbox.value),null!=this.range&&this.quill.formatText(this.range,"link",a,"user"),this.setMode(a,!1)},b.prototype.setMode=function(a,b){var d;return null==b&&(b=!1),b?(this.textbox.value=a,this.textbox.focus(),f.defer(function(b){return function(){return b.textbox.setSelectionRange(a.length,a.length)}}(this))):(this.link.href=a,d=a.length>this.options.maxLength?a.slice(0,this.options.maxLength)+"...":a,c.setText(this.link,d)),c.toggleClass(this.container,"editing",b)},b.prototype._findAnchor=function(a){var b,c,d,e;for(e=this.quill.editor.doc.findLeafAt(a.start,!0),b=e[0],d=e[1],null!=b&&(c=b.node);null!=c;){if("A"===c.tagName)return c;c=c.parentNode}return null},b.prototype._onToolbar=function(a,b){var c;if(a&&!a.isCollapsed())return b?(this.setMode(this._suggestURL(a),!0),c=this.quill.editor.selection._getNativeRange(),this.show(c)):this.quill.formatText(a,"link",!1,"user")},b.prototype._normalizeURL=function(a){return/^https?:\/\//.test(a)||(a="http://"+a),a},b.prototype._suggestURL=function(a){var b;return b=this.quill.getText(a),this._normalizeURL(b)},b}(e),b.exports=d},{"../dom":20,"./tooltip":36,lodash:"4HJaAd"}],33:[function(a,b){var c,d,e,f,g,h={}.hasOwnProperty,i=function(a,b){function c(){this.constructor=a}for(var d in b)h.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};g=a("lodash"),d=a("eventemitter2").EventEmitter2,c=a("../dom"),f=a("../utils"),e=function(a){function b(a,b){this.quill=a,this.options=b,this.cursors={},this.container=this.quill.addContainer("cursor-container",!0),this.quill.addStyles({".cursor-container":{position:"absolute",left:"0",top:"0","z-index":"1000"},".cursor":{"margin-left":"-1px",position:"absolute"},".cursor-flag":{bottom:"100%",position:"absolute","white-space":"nowrap"},".cursor-name":{display:"inline-block",color:"white",padding:"2px 8px"},".cursor-caret":{height:"100%",position:"absolute",width:"2px"},".cursor.hidden .cursor-flag":{display:"none"},".cursor.top > .cursor-flag":{bottom:"auto",top:"100%"},".cursor.right > .cursor-flag":{right:"-2px"}}),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,g.bind(this._applyDelta,this))}return i(b,a),b.DEFAULTS={template:'<span class="cursor-flag"> <span class="cursor-name"></span> </span> <span class="cursor-caret"></span>',timeout:2500},b.events={CURSOR_ADDED:"cursor-addded",CURSOR_MOVED:"cursor-moved",CURSOR_REMOVED:"cursor-removed"},b.prototype.clearCursors=function(){return g.each(g.keys(this.cursors),g.bind(this.removeCursor,this)),this.cursors={}},b.prototype.moveCursor=function(a,b){var d;return d=this.cursors[a],d.index=b,c.removeClass(d.elem,"hidden"),clearTimeout(d.timer),d.timer=setTimeout(function(){return function(){return c.addClass(d.elem,"hidden"),d.timer=null}}(this),this.options.timeout),this._updateCursor(d),d},b.prototype.removeCursor=function(a){var c;return c=this.cursors[a],this.emit(b.events.CURSOR_REMOVED,c),null!=c&&c.elem.parentNode.removeChild(c.elem),delete this.cursors[a]},b.prototype.setCursor=function(a,c,d,e){var f;return null==this.cursors[a]&&(this.cursors[a]=f={userId:a,index:c,color:e,elem:this._buildCursor(d,e)},this.emit(b.events.CURSOR_ADDED,f)),g.defer(function(b){return function(){return b.moveCursor(a,c)}}(this)),this.cursors[a]},b.prototype.shiftCursors=function(a,b,c){return null==c&&(c=null),g.each(this.cursors,function(){return function(d){return d&&(d.index>a||d.userId===c)?d.index+=Math.max(b,a-d.index):void 0}}(this))},b.prototype.update=function(){return g.each(this.cursors,function(a){return function(b){return null!=b?(a._updateCursor(b),!0):void 0}}(this))},b.prototype._applyDelta=function(a){return a.apply(function(a){return function(b,c,d){return a.shiftCursors(b,c.length,d.author)}}(this),function(a){return function(b,c){return a.shiftCursors(b,-1*c,null)}}(this),function(a){return function(b){return a.shiftCursors(b,0,null)}}(this)),this.update()},b.prototype._buildCursor=function(a,b){var d,e,f,g;return d=this.container.ownerDocument.createElement("span"),c.addClass(d,"cursor"),d.innerHTML=this.options.template,f=d.querySelector(".cursor-flag"),g=d.querySelector(".cursor-name"),c.setText(g,a),e=d.querySelector(".cursor-caret"),e.style.backgroundColor=g.style.backgroundColor=b,this.container.appendChild(d),d},b.prototype._moveCursor=function(a,d,e){var f,g;return null==e&&(e="left"),f=d.getBoundingClientRect(),a.elem.style.top=f.top+"px",a.elem.style.left=f[e]+"px",a.elem.style.height=f.height+"px",g=a.elem.querySelector(".cursor-flag"),c.toggleClass(a.elem,"top",parseInt(a.elem.style.top)<=g.offsetHeight),c.toggleClass(a.elem,"left",parseInt(a.elem.style.left)<=g.offsetWidth),c.toggleClass(a.elem,"right",this.quill.root.offsetWidth-parseInt(a.elem.style.left)<=g.offsetWidth),this.emit(b.events.CURSOR_MOVED,a)},b.prototype._updateCursor=function(a){var b,d,e,g,h,i,j,k;return this.quill.editor.checkUpdate(),j=this.quill.editor.doc.findLeafAt(a.index,!0),e=j[0],h=j[1],d=this.container.ownerDocument.createElement("span"),null!=e?(k=f.splitNode(e.node,h),g=k[0],i=k[1],b=k[2],c.setText(d,c.ZERO_WIDTH_NOBREAK_SPACE),e.node.parentNode.insertBefore(d,i)):(c.setText(d,c.NOBREAK_SPACE),this.quill.root.appendChild(d)),this._moveCursor(a,d),c.removeNode(d),b&&c.normalize(e.node.parentNode),this.quill.editor.selection.update("silent")},b}(d),b.exports=e},{"../dom":20,"../utils":44,eventemitter2:"x/3aRz",lodash:"4HJaAd"}],34:[function(a,b){var c,d,e,f,g;g=a("lodash"),c=a("../dom"),d=a("../document"),f=a("tandem-core"),e=function(){function a(a,b){this.quill=a,this.options=b,this.container=this.quill.addContainer("paste-container"),this.container.setAttribute("contenteditable",!0),this.quill.addStyles({".paste-container":{left:"-10000px",position:"absolute",top:"50%"}}),c.addEventListener(this.quill.root,"paste",g.bind(this._paste,this))}return a.prototype._paste=function(){var a,b;return a=this.quill.getLength(),b=this.quill.getSelection(),null!=b?(this.container.innerHTML="",this.container.focus(),g.defer(function(c){return function(){var e,g,h;return g=new d(c.container,c.quill.options),e=g.toDelta(),e=e.compose(f.Delta.makeDeleteDelta(e.endLength,e.endLength-1,1)),h=e.endLength,b.start>0&&e.ops.unshift(new f.RetainOp(0,b.start)),b.end<a&&e.ops.push(new f.RetainOp(b.end,a)),e.endLength+=c.quill.getLength()-(b.end-b.start),e.startLength=a,c.quill.updateContents(e,"user"),c.quill.focus(),c.quill.setSelection(b.start+h,b.start+h)}}(this))):void 0},a}(),b.exports=e},{"../document":19,"../dom":20,lodash:"4HJaAd","tandem-core":"38mxji"}],35:[function(a,b){var c,d,e,f;f=a("lodash"),c=a("../dom"),e=a("../utils"),d=function(){function a(b,d){if(this.quill=b,this.options=d,null==this.options.container)throw new Error("container required for toolbar",this.options);this.container=f.isString(this.options.container)?document.querySelector(this.options.container):this.options.container,this.inputs={},this.preventUpdate=!1,this.triggering=!1,f.each(this.quill.options.formats,function(b){return function(c){return null==a.formats.TOOLTIP[c]?b.initFormat(c,function(d,e){return b.triggering?void 0:(d.isCollapsed()?b.quill.prepareFormat(c,e):null!=a.formats.LINE[c]?b.quill.formatLine(d,c,e,"user"):b.quill.formatText(d,c,e,"user"),f.defer(function(){return b.updateActive(d),b.setActive(c,e)}))}):void 0}}(this)),this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,f.bind(this.updateActive,this)),c.addClass(this.container,"sc-toolbar-container"),c.isIOS()&&c.addClass(this.container,"ios"),(c.isIE(11)||c.isIOS())&&c.addEventListener(this.container,"mousedown",function(){return function(){return!1}}(this))}return a.DEFAULTS={container:null},a.formats={LINE:{align:"align",bullet:"bullet",list:"list"},SELECT:{align:"align",background:"background",color:"color",font:"font",size:"size"},TOGGLE:{bold:"bold",bullet:"bullet",image:"image",italic:"italic",link:"link",list:"list",strike:"strike",underline:"underline"},TOOLTIP:{image:"image",link:"link"}},a.prototype.initFormat=function(b,d){var e,f,g;return g=".sc-"+b,null!=a.formats.SELECT[b]?(g="select"+g,e="change"):e="click",f=this.container.querySelector(g),null!=f?(this.inputs[b]=f,c.addEventListener(f,e,function(a){return function(){var b,g;return g="change"===e?c.getSelectValue(f):!c.hasClass(f,"sc-active"),a.preventUpdate=!0,a.quill.focus(),b=a.quill.getSelection(),null!=b&&d(b,g),a.preventUpdate=!1,!0}}(this))):void 0},a.prototype.setActive=function(a,b){var d,e;return d=this.inputs[a],null!=d?"SELECT"===d.tagName?(this.triggering=!0,e=c.getSelectValue(d),f.isArray(b)&&(b=""),b!==e&&(null!=b?c.selectOption(d,b):c.resetSelect(d)),this.triggering=!1):c.toggleClass(d,"sc-active",b||!1):void 0},a.prototype.updateActive=function(a){var b;if(null!=a&&!this.preventUpdate)return b=this._getActive(a),f.each(this.inputs,function(a){return function(c,d){return a.setActive(d,b[d]),!0}}(this))},a.prototype._getActive=function(a){var b,c;return b=this._getLeafActive(a),c=this._getLineActive(a),f.defaults({},b,c)},a.prototype._getLeafActive=function(a){var b,c,d,e,g;return a.isCollapsed()?(g=this.quill.editor.doc.findLineAt(a.start),d=g[0],e=g[1],b=0===e?this.quill.getContents(a.start,a.end+1):this.quill.getContents(a.start-1,a.end)):b=this.quill.getContents(a),c=f.map(b.ops,"attributes"),this._intersectFormats(c)},a.prototype._getLineActive=function(a){var b,c,d,e,g,h;for(c=[],g=this.quill.editor.doc.findLineAt(a.start),b=g[0],e=g[1],h=this.quill.editor.doc.findLineAt(a.end),d=h[0],e=h[1],null!=d&&d===b&&(d=d.next);null!=b&&b!==d;)c.push(f.clone(b.formats)),b=b.next;return this._intersectFormats(c)},a.prototype._intersectFormats=function(b){return f.reduce(b.slice(1),function(b,c){var d,e,g,h,i;return d=f.keys(b),g=f.keys(c),h=f.intersection(d,g),i=f.difference(d,g),e=f.difference(g,d),f.each(h,function(d){if(null!=a.formats.SELECT[d])if(f.isArray(b[d])){if(f.indexOf(b[d],c[d])<0)return b[d].push(c[d])}else if(b[d]!==c[d])return b[d]=[b[d],c[d]]}),f.each(i,function(c){return null!=a.formats.TOGGLE[c]?delete b[c]:null==a.formats.SELECT[c]||f.isArray(b[c])?void 0:b[c]=[b[c]]}),f.each(e,function(d){return null!=a.formats.SELECT[d]?b[d]=[c[d]]:void 0}),b},b[0]||{})},a}(),b.exports=d},{"../dom":20,"../utils":44,lodash:"4HJaAd"}],36:[function(a,b){var c,d,e,f;f=a("lodash"),c=a("../dom"),d=a("../normalizer"),e=function(){function a(b,e){this.quill=b,this.options=e,this.quill.addStyles(this.options.styles),this.container=this.quill.addContainer("tooltip"),this.container.innerHTML=d.stripWhitespace(this.options.template),this.container.style.position="absolute",c.addEventListener(this.quill.root,"focus",f.bind(this.hide,this)),this.hide(),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(b){return function(c,d){return"user"===d&&b.container.style.left!==a.HIDE_MARGIN?(b.range=null,b.hide()):void 0}}(this))}return a.DEFAULTS={offset:10,styles:{".tooltip":{"background-color":"#fff",border:"1px solid #000",top:"0px","white-space":"nowrap","z-index":"2000"},".tooltip a":{cursor:"pointer","text-decoration":"none"}},template:""},a.HIDE_MARGIN="-10000px",a.prototype.initTextbox=function(a,b,d){return c.addEventListener(a,"keyup",function(a){return function(e){switch(e.which){case c.KEYS.ENTER:return b.call(a);case c.KEYS.ESCAPE:return d.call(a);default:return!0}}}(this))},a.prototype.hide=function(){return this.container.style.left=a.HIDE_MARGIN,this.range&&this.quill.setSelection(this.range),this.range=null},a.prototype.show=function(a){var b,c,d,e;return this.range=this.quill.getSelection(),d=this._position(a),b=d[0],c=d[1],e=this._limit(b,c),b=e[0],c=e[1],b+=this.quill.root.ownerDocument.defaultView.window.pageXOffset,c+=this.quill.root.ownerDocument.defaultView.window.pageYOffset,this.container.style.left=""+b+"px",this.container.style.top=""+c+"px",this.container.focus()},a.prototype._getBounds=function(){var a,b,c;return a=this.quill.root.getBoundingClientRect(),b=this.quill.root.ownerDocument.defaultView.window.pageXOffset,c=this.quill.root.ownerDocument.defaultView.window.pageYOffset,{left:a.left+b,right:a.right+b,top:a.top+c,bottom:a.bottom+c,width:a.width,height:a.height}},a.prototype._limit=function(a,b){var c,d;return c=this._getBounds(),d=this.container.getBoundingClientRect(),a=Math.min(c.right-d.width,a),a=Math.max(c.left,a),b=Math.min(c.bottom-d.height,b),b=Math.max(c.top,b),[a,b]},a.prototype._position=function(a){var b,c,d,e,f;return e=this.container.getBoundingClientRect(),b=this._getBounds(),null!=a?(d=a.getBoundingClientRect(),c=d.left+d.width/2-e.width/2,f=d.top+d.height+this.options.offset,f+e.height>b.bottom&&(f=d.top-e.height-this.options.offset)):(c=b.left+b.width/2-e.width/2,f=b.top+b.height/2-e.height/2),[c,f]},a}(),b.exports=e},{"../dom":20,"../normalizer":38,lodash:"4HJaAd"}],37:[function(a,b){var c,d,e;e=a("lodash"),c=a("tandem-core"),d=function(){function a(a,b){this.quill=a,this.options=null!=b?b:{},this.lastRecorded=0,this.emittedDelta=null,this.clear(),this.initListeners()}return a.DEFAULTS={delay:1e3,maxStack:100},a.hotkeys={UNDO:{key:"Z",metaKey:!0,shiftKey:!1},REDO:{key:"Z",metaKey:!0,shiftKey:!0}},a.prototype.initListeners=function(){return this.quill.onModuleLoad("keyboard",function(b){return function(c){return c.addHotkey(a.hotkeys.UNDO,function(){return b.undo(),!1}),c.addHotkey(a.hotkeys.REDO,function(){return b.redo(),!1})}}(this)),this.quill.on(this.quill.constructor.events.TEXT_CHANGE,function(a){return function(b){return b.isEqual(a.emittedDelta)?void(a.emittedDelta=null):(a.record(b,a.oldDelta),a.oldDelta=a.quill.getContents())}}(this))},a.prototype.clear=function(){return this.stack={undo:[],redo:[]},this.oldDelta=this.quill.getContents()},a.prototype.record=function(a,b){var c,d,e,f;if(!a.isIdentity()){this.stack.redo=[];try{if(f=b.invert(a),e=(new Date).getTime(),this.lastRecorded+this.options.delay>e&&this.stack.undo.length>0?(c=this.stack.undo.pop(),f.canCompose(c.undo)&&c.redo.canCompose(a)?(f=f.compose(c.undo),a=c.redo.compose(a)):(this.clear(),this.lastRecorded=e)):this.lastRecorded=e,this.stack.undo.push({redo:a,undo:f}),this.stack.undo.length>this.options.maxStack)return this.stack.undo.unshift()}catch(g){return d=g,this.clear()}}},a.prototype.redo=function(){return this._change("redo","undo")},a.prototype.undo=function(){return this._change("undo","redo")},a.prototype._getLastChangeIndex=function(a){var b;return b=0,a.apply(function(a,c){return b=Math.max(a+c.length,b)},function(a){return b=Math.max(a,b)},function(a,c){return b=Math.max(a+c,b)}),b},a.prototype._change=function(a,b){var c,d;return this.stack[a].length>0?(c=this.stack[a].pop(),this.lastRecorded=0,this.emittedDelta=c[a],this.quill.updateContents(c[a],"user"),this.emittedDelta=null,d=this._getLastChangeIndex(c[a]),this.quill.setSelection(d,d),this.stack[b].push(c)):void 0},a}(),b.exports=d},{lodash:"4HJaAd","tandem-core":"38mxji"}],38:[function(a,b){var c,d,e,f;f=a("lodash"),c=a("./dom"),e=a("./utils"),d={ALIASES:{STRONG:"B",EM:"I",DEL:"S",STRIKE:"S"},ATTRIBUTES:{color:"color",face:"fontFamily",size:"fontSize"},STYLES:{"background-color":"background-color",color:"color","font-family":"font-family","font-size":"font-size","text-align":"text-align"},TAGS:{P:"P",BR:"BR",SPAN:"SPAN",B:"B",I:"I",S:"S",U:"U",A:"A",IMG:"IMG",UL:"UL",LI:"LI"},handleBreaks:function(a){var b;return b=f.map(a.querySelectorAll(c.DEFAULT_BREAK_TAG)),f.each(b,function(){return function(b){return null==b.nextSibling||c.isIE(10)&&null==b.previousSibling?void 0:e.splitAncestors(b.nextSibling,a.parentNode)}}(this)),a},normalizeLine:function(a){return a=d.wrapInline(a),a=d.handleBreaks(a),a=d.pullBlocks(a),a=d.normalizeNode(a),d.unwrapText(a),a},normalizeNode:function(a){return c.isTextNode(a)?a:(f.each(d.ATTRIBUTES,function(b,c){var d;return a.hasAttribute(c)?(d=a.getAttribute(c),"size"===c&&(d=e.convertFontSize(d)),a.style[b]=d,a.removeAttribute(c)):void 0}),d.whitelistStyles(a),d.whitelistTags(a))},optimizeLine:function(a){var b,d,g,h;for(b=e.getNodeLength(a),g=c.getDescendants(a),h=[];g.length>0;)d=g.pop(),null!=(null!=d?d.parentNode:void 0)&&null==c.EMBED_TAGS[d.tagName]&&(d.tagName===c.DEFAULT_BREAK_TAG?h.push(0!==b?c.removeNode(d):void 0):0===e.getNodeLength(d)?(g.push(d.nextSibling),h.push(c.unwrap(d))):null!=d.previousSibling&&d.tagName===d.previousSibling.tagName&&f.isEqual(c.getAttributes(d),c.getAttributes(d.previousSibling))?(g.push(d.firstChild),h.push(e.mergeNodes(d.previousSibling,d))):h.push(void 0));return h},pullBlocks:function(a){var b;for(b=a.firstChild;null!=b;){if(null!=c.BLOCK_TAGS[b.tagName]&&"LI"!==b.tagName){null!=b.previousSibling&&e.splitAncestors(b,a.parentNode),null!=b.nextSibling&&e.splitAncestors(b.nextSibling,a.parentNode),null==c.LIST_TAGS[b.tagName]?(c.unwrap(b),d.pullBlocks(a)):(c.unwrap(b.parentNode),null==a.parentNode&&(a=b));break}b=b.nextSibling}return a},stripComments:function(a){return a=a.replace(/<!--[\s\S]*?-->/g,"")},stripWhitespace:function(a){return a=a.replace(/^\s+/,"").replace(/\s+$/,""),a=a.replace(/\>\s+\</g,"><")},whitelistStyles:function(a){var b,e;return b=c.getStyles(a),e=f.omit(b,function(a,b){return null==d.STYLES[b]}),f.keys(e).length<f.keys(b).length?f.keys(e).length>0?c.setStyles(a,e):a.removeAttribute("style"):void 0},whitelistTags:function(a){return c.isElement(a)?(null!=d.ALIASES[a.tagName]&&(a=c.switchTag(a,d.ALIASES[a.tagName])),null==d.TAGS[a.tagName]&&(a=null!=c.BLOCK_TAGS[a.tagName]?c.switchTag(a,c.DEFAULT_BLOCK_TAG):a.hasAttributes()||null==a.firstChild?c.switchTag(a,c.DEFAULT_INLINE_TAG):c.unwrap(a)),a):a},wrapInline:function(a){var b,d;if(null!=c.BLOCK_TAGS[a.tagName])return a;for(b=a.ownerDocument.createElement(c.DEFAULT_BLOCK_TAG),a.parentNode.insertBefore(b,a);null!=a&&null==c.BLOCK_TAGS[a.tagName];)d=a.nextSibling,b.appendChild(a),a=d;return b},unwrapText:function(a){var b;return b=f.map(a.querySelectorAll(c.DEFAULT_INLINE_TAG)),f.each(b,function(a){var b;return b=c.getAttributes(a),0===f.keys(b).length?c.unwrap(a):void 0})}},b.exports=d},{"./dom":20,"./utils":44,lodash:"4HJaAd"}],39:[function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n={}.hasOwnProperty,o=function(a,b){function c(){this.constructor=a}for(var d in b)n.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},p=[].slice;m=a("lodash"),m.str=a("underscore.string"),l=a("../package.json"),e=a("eventemitter2").EventEmitter2,c=a("./dom"),d=a("./editor"),f=a("./format"),i=a("./lib/range"),j=a("tandem-core"),g={Authorship:a("./modules/authorship"),ImageTooltip:a("./modules/image-tooltip"),Keyboard:a("./modules/keyboard"),LinkTooltip:a("./modules/link-tooltip"),MultiCursor:a("./modules/multi-cursor"),PasteManager:a("./modules/paste-manager"),Toolbar:a("./modules/toolbar"),UndoManager:a("./modules/undo-manager")},k={Default:a("./themes/default"),Snow:a("./themes/snow")},h=function(a){function b(a,c){var e,f,g;if(null==c&&(c={}),m.isString(a)&&(a=document.querySelector(a)),null==a)throw new Error("Invalid Quill container");f=m.defaults(c.modules||{},b.DEFAULTS.modules),e=a.innerHTML,this.options=m.defaults(c,b.DEFAULTS),this.options.modules=f,this.options.id=this.id="quill-"+(b.editors.length+1),this.options.emitter=this,this.modules={},this.editor=new d(a,this,this.options),this.root=this.editor.doc.root,b.editors.push(this),this.setHTML(e,b.sources.SILENT),g=m.str.capitalize(m.str.camelize(this.options.theme)),this.theme=new b.Theme[g](this,this.options),m.each(this.options.modules,function(a){return function(b,c){return a.addModule(c,b)}}(this))}return o(b,a),b.version=l.version,b.editors=[],b.Module=g,b.Theme=k,b.DEFAULTS={formats:["align","bold","italic","strike","underline","color","background","font","size","link","image","bullet","list"],modules:{keyboard:!0,"paste-manager":!0,"undo-manager":!0},pollInterval:100,readOnly:!1,theme:"default"},b.events={MODULE_INIT:"module-init",POST_EVENT:"post-event",PRE_EVENT:"pre-event",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},b.prototype.addContainer=function(a,b){return null==b&&(b=!1),this.editor.renderer.addContainer(a,b)},b.prototype.addFormat=function(a,b){return this.editor.doc.addFormat(a,b)},b.prototype.addModule=function(a,c){var d,e;if(d=m.str.capitalize(m.str.camelize(a)),e=b.Module[d],null==e)throw new Error("Cannot load "+a+" module. Are you sure you included it?");return m.isObject(c)||(c={}),c=m.defaults(c,this.theme.constructor.OPTIONS[a]||{},e.DEFAULTS||{}),this.modules[a]=new e(this,c),this.emit(b.events.MODULE_INIT,a,this.modules[a]),this.modules[a]},b.prototype.addStyles=function(a){return this.editor.renderer.addStyles(a)},b.prototype.deleteText=function(a,c,d){var e,f,g;return null==d&&(d=b.sources.API),g=this._buildParams(a,c,{},d),a=g[0],c=g[1],f=g[2],d=g[3],c>a?(e=j.Delta.makeDeleteDelta(this.getLength(),a,c-a),this.editor.applyDelta(e,d)):void 0},b.prototype.emit=function(){var a,c;return c=arguments[0],a=2<=arguments.length?p.call(arguments,1):[],b.__super__.emit.apply(this,[b.events.PRE_EVENT,c].concat(p.call(a))),b.__super__.emit.apply(this,[c].concat(p.call(a))),b.__super__.emit.apply(this,[b.events.POST_EVENT,c].concat(p.call(a)))},b.prototype.focus=function(){return this.root.focus()},b.prototype.formatLine=function(a,b,c,d,e){var f,g,h,i,j;return i=this._buildParams(a,b,c,d,e),a=i[0],b=i[1],f=i[2],e=i[3],j=this.editor.doc.findLineAt(b),g=j[0],h=j[1],null!=g&&(b+=g.length-h),this.formatText(a,b,f,e)},b.prototype.formatText=function(a,b,c,d,e){var f,g,h;return h=this._buildParams(a,b,c,d,e),a=h[0],b=h[1],g=h[2],e=h[3],g=m.reduce(g,function(a){return function(b,c,d){var e;return e=a.editor.doc.formats[d],c&&c!==e.config["default"]||(b[d]=null),b}}(this),g),f=j.Delta.makeRetainDelta(this.getLength(),a,b-a,g),this.editor.applyDelta(f,e)},b.prototype.getContents=function(a,b){var c;return null==a&&(a=0),null==b&&(b=null),m.isObject(a)?(b=a.end,a=a.start):null==b&&(b=this.getLength()),c=this.editor.getDelta().getOpsAt(a,b-a),new j.Delta(0,c)},b.prototype.getHTML=function(){return this.root.innerHTML},b.prototype.getLength=function(){return this.editor.getDelta().endLength},b.prototype.getModule=function(a){return this.modules[a]},b.prototype.getSelection=function(){return this.editor.checkUpdate(),this.editor.selection.getRange()},b.prototype.getText=function(a,b){return null==a&&(a=0),null==b&&(b=null),m.pluck(this.getContents(a,b).ops,"value").join("")},b.prototype.insertEmbed=function(a,b,d,e){return this.insertText(a,c.EMBED_TEXT,b,d,e)},b.prototype.insertText=function(a,b,c,d,e){var f,g,h,i;return i=this._buildParams(a,0,c,d,e),a=i[0],g=i[1],h=i[2],e=i[3],b.length>0?(f=j.Delta.makeInsertDelta(this.getLength(),a,b,h),this.editor.applyDelta(f,e)):void 0},b.prototype.onModuleLoad=function(a,c){return this.modules[a]?c(this.modules[a]):this.on(b.events.MODULE_INIT,function(b,d){return b===a?c(d):void 0})},b.prototype.prepareFormat=function(a,c){var d,e;return d=this.editor.doc.formats[a],null!=d&&(e=this.getSelection(),null!=e?e.isCollapsed():void 0)?d.isType(f.types.LINE)?this.formatLine(e,a,c,b.sources.USER):d.prepare(c):void 0},b.prototype.setContents=function(a,c){return null==c&&(c=b.sources.API),m.isArray(a)?a=j.Delta.makeDelta({startLength:this.getLength(),ops:a}):(a=j.Delta.makeDelta(a),a.startLength=this.getLength()),this.editor.applyDelta(a,c)},b.prototype.setHTML=function(a,d){return null==d&&(d=b.sources.API),a||(a="<"+c.DEFAULT_BLOCK_TAG+"><"+c.DEFAULT_BREAK_TAG+"></"+c.DEFAULT_BLOCK_TAG+">"),this.editor.doc.setHTML(a),this.editor.checkUpdate(d)},b.prototype.setSelection=function(a,c,d){var e;return null==d&&(d=b.sources.API),m.isNumber(a)&&m.isNumber(c)?e=new i(a,c):(e=a,d=c||d),this.editor.selection.setRange(e,d)},b.prototype.updateContents=function(a,c){return null==c&&(c=b.sources.API),this.editor.applyDelta(a,c)},b.prototype._buildParams=function(){var a,c;return c=1<=arguments.length?p.call(arguments,0):[],m.isObject(c[0])&&c.splice(0,1,c[0].start,c[0].end),m.isString(c[2])&&(a={},a[c[2]]=c[3],c.splice(2,2,a)),null==c[3]&&(c[3]=b.sources.API),c},b}(e),b.exports=h},{"../package.json":18,"./dom":20,"./editor":21,"./format":22,"./lib/range":27,"./modules/authorship":29,"./modules/image-tooltip":30,"./modules/keyboard":31,"./modules/link-tooltip":32,"./modules/multi-cursor":33,"./modules/paste-manager":34,"./modules/toolbar":35,"./modules/undo-manager":37,"./themes/default":42,"./themes/snow":43,eventemitter2:"x/3aRz",lodash:"4HJaAd","tandem-core":"38mxji","underscore.string":"Fq7WE+"}],40:[function(a,b){var c,d,e,f,g,h,i,j;j=a("lodash"),d=a("./dom"),h=a("./utils"),f=a("./normalizer"),c={html:{height:"100%",width:"100%"},body:{"box-sizing":"border-box",cursor:"text","font-family":"'Helvetica', 'Arial', sans-serif","font-size":"13px",height:"100%","line-height":"1.42",margin:"0px","overflow-x":"hidden","overflow-y":"auto",padding:"12px 15px"},".editor-container":{height:"100%",outline:"none",position:"relative","tab-size":"4","white-space":"pre-wrap"},".editor-container p":{margin:"0",padding:"0"},".editor-container a":{"text-decoration":"underline"},".editor-container b":{"font-weight":"bold"},".editor-container i":{"font-style":"italic"},".editor-container s":{"text-decoration":"line-through"},".editor-container u":{"text-decoration":"underline"},".editor-container img":{"max-width":"100%"},".editor-container blockquote":{margin:"0 0 0 2em",padding:"0"},".editor-container ol":{margin:"0 0 0 2em",padding:"0","list-style-type":"decimal"},".editor-container ul":{margin:"0 0 0 2em",padding:"0","list-style-type":"disc"}},e=["decimal","lower-alpha","lower-roman"],i=".editor-container ol > li",j.each([1,2,3,4,5,6,7,8,9],function(a){return i+=" > ol",c[i]={"list-style-type":e[a%3]},i+=" > li"}),h.isIE(10)&&(c[d.DEFAULT_BREAK_TAG]={display:"none"}),g=function(){function a(b,e){var f;this.container=b,this.options=null!=e?e:{},this.container.innerHTML="",f=a.buildFrame(this.container),this.root=f[0],this.iframe=f[1],this.root.id=this.options.id,d.addClass(this.root,"editor-container"),d.addClass(this.container,"sc-container"),d.addEventListener(this.container,"focus",function(a){return function(){return a.root.focus()}}(this)),this.addStyles(c),null!=this.options.styles&&j.defer(j.bind(this.addStyles,this,this.options.styles))}return a.objToCss=function(a){return j.map(a,function(a,b){var c;return c=j.map(a,function(a,b){return""+b+": "+a+";"}).join(" "),""+b+" { "+c+" }"}).join("\n")},a.buildFrame=function(a){var b,c,e;return b=a.ownerDocument.createElement("iframe"),d.setAttributes(b,{frameBorder:"0",height:"100%",width:"100%",title:"Quill Rich Text Editor",role:"presentation"}),a.appendChild(b),c=b.contentWindow.document,c.open(),c.write("<!DOCTYPE html>"),c.close(),e=c.createElement("div"),c.body.appendChild(e),[e,b]},a.prototype.addContainer=function(a,b){var c,e;return null==b&&(b=!1),e=b?this.root:null,c=this.root.ownerDocument.createElement("div"),d.addClass(c,a),this.root.parentNode.insertBefore(c,e),c},a.prototype.addStyles=function(b){var c;return c=this.root.ownerDocument.createElement("style"),c.type="text/css",b=a.objToCss(b),c.appendChild(this.root.ownerDocument.createTextNode(b)),this.root.ownerDocument.head.appendChild(c)},a}(),b.exports=g},{"./dom":20,"./normalizer":38,"./utils":44,lodash:"4HJaAd"}],41:[function(a,b){var c,d,e,f,g,h;h=a("lodash"),c=a("./dom"),d=a("./leaf"),e=a("./lib/range"),g=a("./utils"),f=function(){function a(a,b,c){this.doc=a,this.iframe=b,this.emitter=c,this.document=this.doc.root.ownerDocument,this.range=this.getRange(),this.nullDelay=!1}return a.prototype.checkFocus=function(){return this.document.activeElement!==this.doc.root?!1:null!=document.activeElement&&"IFRAME"===document.activeElement.tagName?document.activeElement===this.iframe:!0},a.prototype.getRange=function(){var a,b,c;return this.checkFocus()?(b=this._getNativeRange(),null==b?null:(c=this._positionToIndex(b.startContainer,b.startOffset),a=b.startContainer===b.endContainer&&b.startOffset===b.endOffset?c:this._positionToIndex(b.endContainer,b.endOffset),new e(Math.min(c,a),Math.max(c,a)))):null},a.prototype.preserve=function(a){var b,c,d,e,f,g,h,i,j;return d=this._getNativeRange(),null!=d&&this.checkFocus()?(g=this._encodePosition(d.startContainer,d.startOffset),e=g[0],f=g[1],h=this._encodePosition(d.endContainer,d.endOffset),b=h[0],c=h[1],a(),i=this._decodePosition(e,f),e=i[0],f=i[1],j=this._decodePosition(b,c),b=j[0],c=j[1],this._setNativeRange(e,f,b,c)):a()},a.prototype.setRange=function(a,b){var c,d,e,f,g,h,i;return null!=a?(g=this._indexToPosition(a.start),e=g[0],f=g[1],a.isCollapsed()?(h=[e,f],c=h[0],d=h[1]):(i=this._indexToPosition(a.end),c=i[0],d=i[1]),this._setNativeRange(e,f,c,d)):this._setNativeRange(null),this.update(b)},a.prototype.shiftAfter=function(a,b,c){var d;return d=this.getRange(),c(),null!=d?(d.shift(a,b),this.setRange(d,"silent")):void 0},a.prototype.update=function(a){var b,c;return c=this.getRange(),b="silent"!==a&&!e.compare(c,this.range),null!==c||"user"!==a||this.nullDelay?(this.nullDelay=!1,this.range=c,b?this.emitter.emit(this.emitter.constructor.events.SELECTION_CHANGE,c,a):void 0):this.nullDelay=!0},a.prototype._decodePosition=function(a,b){var d;return c.isElement(a)&&(d=h.indexOf(c.getChildNodes(a.parentNode),a),b+=d,a=a.parentNode),[a,b]},a.prototype._encodePosition=function(a,b){for(;;){if(c.isTextNode(a)||a.tagName===c.DEFAULT_BREAK_TAG||null!=c.EMBED_TAGS[a.tagName])return[a,b];if(b<a.childNodes.length)a=a.childNodes[b],b=0;else{if(0===a.childNodes.length)return[a,0];if(a=a.lastChild,!c.isElement(a))return[a,g.getNodeLength(a)];if(a.tagName===c.DEFAULT_BREAK_TAG||null!=c.EMBED_TAGS[a.tagName])return[a,1];b=a.childNodes.length}}},a.prototype._getNativeSelection=function(){return null!=this.document.getSelection?this.document.getSelection():null},a.prototype._getNativeRange=function(){var a;return a=this._getNativeSelection(),(null!=a?a.rangeCount:void 0)>0?a.getRangeAt(0):null},a.prototype._indexToPosition=function(a){var b,c,d;return 0===this.doc.lines.length?[this.doc.root,0]:(d=this.doc.findLeafAt(a,!0),b=d[0],c=d[1],this._decodePosition(b.node,c))},a.prototype._positionToIndex=function(a,b){var c,d,e,f,g,h;if(h=this._encodePosition(a,b),d=h[0],b=h[1],f=this.doc.findLine(d),null==f)return 0;for(c=f.findLeaf(d),g=0;null!=f.prev;)f=f.prev,g+=f.length;if(null==c)return g;for(e=0;null!=c.prev;)c=c.prev,e+=c.length;return g+e+b},a.prototype._setNativeRange=function(a,b,c,d){var e,f;return(f=this._getNativeSelection())?null==a?(f.removeAllRanges(),this.doc.root.blur()):(this.doc.root.focus(),e=this._getNativeRange(),null==e||a!==e.startContainer||b!==e.startOffset||c!==e.endContainer||d!==e.endOffset?(null!=e&&f.removeAllRanges(),f.removeAllRanges(),e=this.document.createRange(),e.setStart(a,b),e.setEnd(c,d),f.addRange(e),this.doc.root.focus()):void 0):void 0},a}(),b.exports=f},{"./dom":20,"./leaf":23,"./lib/range":27,"./utils":44,lodash:"4HJaAd"}],42:[function(a,b){var c;c=function(){function a(a){this.quill=a,this.editor=this.quill.editor,this.editorContainer=this.editor.root}return a.OPTIONS={},a}(),b.exports=c},{}],43:[function(a,b){var c,d,e,f,g,h,i={}.hasOwnProperty,j=function(a,b){function c(){this.constructor=a}for(var d in b)i.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};h=a("lodash"),c=a("../../lib/color-picker"),e=a("../default"),d=a("../../dom"),f=a("../../lib/picker"),g=function(a){function b(a){this.quill=a,b.__super__.constructor.apply(this,arguments),this.quill.addStyles(b.STYLES),this.pickers=[],this.quill.on(this.quill.constructor.events.SELECTION_CHANGE,function(a){return function(b){return null!=b?h.invoke(a.pickers,"close"):void 0
}}(this)),d.addClass(this.quill.root.ownerDocument.body,"snow"),this.quill.onModuleLoad("multi-cursor",h.bind(this.extendMultiCursor,this)),this.quill.onModuleLoad("toolbar",h.bind(this.extendToolbar,this))}return j(b,a),b.COLORS=["#000000","#e60000","#ff9900","#ffff00","#008A00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b.OPTIONS={"multi-cursor":{template:'<span class="cursor-flag"> <span class="cursor-triangle top"></span> <span class="cursor-name"></span> <span class="cursor-triangle bottom"></span> </span> <span class="cursor-caret"></span>'}},b.STYLES={".snow .image-tooltip-container a":{border:"1px solid #06c"},".snow .image-tooltip-container a.insert":{"background-color":"#06c",color:"#fff"},".snow .cursor-name":{"border-radius":"4px","font-size":"11px","font-family":"Arial","margin-left":"-50%",padding:"4px 10px"},".snow .cursor-triangle":{"border-left":"4px solid transparent","border-right":"4px solid transparent",height:"0px","margin-left":"-3px",width:"0px"},".snow .cursor.left .cursor-name":{"margin-left":"-8px"},".snow .cursor.right .cursor-flag":{right:"auto"},".snow .cursor.right .cursor-name":{"margin-left":"-100%","margin-right":"-8px"},".snow .cursor-triangle.bottom":{"border-top":"4px solid transparent",display:"block","margin-bottom":"-1px"},".snow .cursor-triangle.top":{"border-bottom":"4px solid transparent",display:"none","margin-top":"-1px"},".snow .cursor.top .cursor-triangle.bottom":{display:"none"},".snow .cursor.top .cursor-triangle.top":{display:"block"},".snow a":{color:"#06c"},".snow .tooltip":{border:"1px solid #ccc","box-shadow":"0px 0px 5px #ddd",color:"#222"},".snow .tooltip a":{color:"#06c"},".snow .tooltip .input":{border:"1px solid #ccc",margin:"0px",padding:"5px"},".snow .image-tooltip-container .preview":{"border-color":"#ccc",color:"#ccc"},".snow .link-tooltip-container a, .snow .link-tooltip-container span":{display:"inline-block","line-height":"25px"}},b.prototype.extendMultiCursor=function(a){return a.on(a.constructor.events.CURSOR_ADDED,function(a){var b,c;return b=a.elem.querySelector(".cursor-triangle.bottom"),c=a.elem.querySelector(".cursor-triangle.top"),b.style.borderTopColor=c.style.borderBottomColor=a.color})},b.prototype.extendToolbar=function(a){return h.each(["color","background","font","size","align"],function(b){return function(e){var g,i;if(i=a.container.querySelector(".sc-"+e),null!=i){switch(e){case"font":case"size":case"align":g=new f(i);break;case"color":case"background":g=new c(i),h.each(g.container.querySelectorAll(".sc-picker-item"),function(a,b){return 7>b?d.addClass(a,"sc-primary-color"):void 0})}return null!=g?b.pickers.push(g):void 0}}}(this)),h.each(d.getTextNodes(a.container),function(a){return 0===d.getText(a).trim().length?d.removeNode(a):void 0})},b}(e),b.exports=g},{"../../dom":20,"../../lib/color-picker":24,"../../lib/picker":26,"../default":42,lodash:"4HJaAd"}],44:[function(a,b){var c,d,e;e=a("lodash"),c=a("./dom"),d={convertFontSize:function(a){var b,d,f,g;e.isString(a)&&a.indexOf("px")>-1?(f=e.keys(c.FONT_SIZES),g=e.values(c.FONT_SIZES)):(g=e.keys(c.FONT_SIZES),f=e.values(c.FONT_SIZES));for(b in f)if(d=f[b],parseInt(a)<=parseInt(d))return g[b];return e.last(g)},getChildAtOffset:function(a,b){var c,e;for(c=a.firstChild,e=d.getNodeLength(c);null!=c&&!(e>b);)b-=e,c=c.nextSibling,e=d.getNodeLength(c);return null==c&&(c=a.lastChild,b=d.getNodeLength(c)),[c,b]},getNextLineNode:function(a,b){var d;return d=a.nextSibling,null==d&&a.parentNode!==b&&(d=a.parentNode.nextSibling),null!=d&&null!=c.LIST_TAGS[d.tagName]&&(d=d.firstChild),d},getNodeLength:function(a){var b;return null==a?0:(b=c.getText(a).length,c.isElement(a)&&(b+=a.querySelectorAll(e.keys(c.EMBED_TAGS).join(",")).length),b)},isIE:function(a){var b;return b=document.documentMode,b&&a>=b},mergeNodes:function(a,b){return c.moveChildren(a,b),c.normalize(a),c.removeNode(b)},splitAncestors:function(a,b,c){var e,f,g;if(null==c&&(c=!1),a===b||a.parentNode===b)return a;if(null!=a.previousSibling||c){for(g=a.parentNode,f=g.cloneNode(!1),g.parentNode.insertBefore(f,g.nextSibling);null!=a;)e=a.nextSibling,f.appendChild(a),a=e;return d.splitAncestors(f,b)}return d.splitAncestors(a.parentNode,b)},splitNode:function(a,b,e){var f,g,h,i,j,k,l,m,n,o;if(null==e&&(e=!1),l=d.getNodeLength(a),b=Math.max(0,b),b=Math.min(b,l),!e&&0===b)return[a.previousSibling,a,!1];if(!e&&b===l)return[a,a.nextSibling,!1];if(a.nodeType===c.TEXT_NODE)return f=a.splitText(b),[a,f,!0];for(j=a,m=a.cloneNode(!1),a.parentNode.insertBefore(m,j.nextSibling),n=d.getChildAtOffset(a,b),g=n[0],b=n[1],o=d.splitNode(g,b),h=o[0],i=o[1];null!==i;)k=i.nextSibling,m.appendChild(i),i=k;return[j,m,!0]}},b.exports=d},{"./dom":20,lodash:"4HJaAd"}]},{},[39])(39)});