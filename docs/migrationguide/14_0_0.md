# Migration guide 13.0.0 -> 14.0.0

!> **Java 11 is now the minimum requirement!**

!> **JSF 2.0, 2.1 and 2.2 support is has been removed!**

!> OS settings for `prefers-reduced-motion: reduce` is now respected and PF disables all animations

## Deleted

  * JSF 2.0, 2.1 and 2.2 support has been removed
  * `Watermark` in favor passthrough attribute `pt:placeholder` or vanilla JS
  * `HazelcastCacheProvider` has been removed from the JAR but the code can be found in the Cache documentation along with Caffeine
  * `org.primefaces.component.api.ImmutableSavedState` removed as it was no longer needed. If you still use it please copy the code from [here](https://github.com/primefaces/primefaces/blob/13.0.0/primefaces/src/main/java/org/primefaces/component/api/ImmutableSavedState.java)
  * `org.primefaces.expression.SearchExpressionFacade` removed in favor of `org.primefaces.expression.SearchExpressionUtils`
  
## Deprecated

  * Apache Commons FileUpload support has been deprecated for native uploading now that Servlet 3.0 is the minimum requirement. Please report any issues if native uploading does not work for your needs.
  * `InputSwitch` has been deprecated since 10.0 and will be removed in 15.0.0
  * `<p:barChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:pieChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:radarChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:lineChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:donutChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:polarAreaChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  * `<p:scatterChart>` is deprecated in favor of new `<p:chart>` component and will be removed in 15.0.0
  
## Core

  * `primefaces.CLIENT_SIDE_LOCALISATION` is now enabled by default
  * OS settings for `prefers-reduced-motion: reduce` is now respected and PF disables all animations

## PrimeFaces Selenium Core

  * `javax.inject:javax.inject:1` is not a transitive dependency anymore

## AutoComplete

  * `dropdownAriaLabel`, `emptyMessage`, `resultsMessage` properties have been moved to client side locale
  
## Charts

  * A new more flexible version of Chart.js can be used `<p:chart>` allowing raw JSON or [XDEV Chart.js Java Model](https://github.com/xdev-software/chartjs-java-model)
  * `<p:barChart>` now uses `List<Object>` instead of `List<Number>`
  
## ColumnToggler

  *  AJAX `toggle` event is now `org.primefaces.event.ColumnToggleEvent` giving access to `UIColumn` that was toggled

## DatePicker/Calendar

  * Locale `firstDay` renamed `firstDayOfWeek` to match other Prime libraries

## DataTable

  * Using Column custom `sortFunction` signature change now requires a third parameter `SortMeta` like `public int sortByModel(Object car1, Object car2, SortMeta sortMeta)`
  * `JpaLazyDataModel` renamed to `JPALazyDataModel`
  * `JPALazyDataModel`: deprecated constructors, use `JPALazyDataModel.builder()` instead
  * 'LazyDataModel': 'getRowData()` overload has been renamed `loadOne()` to load a single row

### DataTable Selection

Few selection attributes have been renamed for consistency purposes:
  * `rowSelectMode` renamed to `selectionRowMode`
  * `disabledSelection` renamed to `selectionDisabled`
  * `disabledTextSelection` renamed to `selectionTextDisabled`
  * `UIColumn#selectionMode` renamed to `selectionBox` and reworked. Since [13.0.0](https://github.com/primefaces/primefaces/issues/10129), `DataTable#selectionMode` is automatically deduced from `selection` value binding.
  
!> Starting from 14.0.0, `DataTable#selectionMode` will be the single source of truth to configure whether selection should be `single` or `multiple`. To configure selection column, e.g display radiobutton or checkbox, `UIColumn#selectionBox` should be set to true. Whether it's a radiobutton or checkbox will depend on `DataTable#selectionMode`

## FileUpload

  * `invalidSizeMessage`, `invalidFileMessage`, `fileLimitMessage` are deprecated and will be removed in 15.0.0. PF i18n will be used for it.
  * `maxFileSize`, `fileLimit`, `allowedTypes` are deprecated and will be removed in 15.0.0. Please attach `p:validateFile` to the `p:fileUpload` component.
  * Simple FileUpload: Client side validation has been reimplemented with PrimeFaces CSV and support for `p:message(s)`/`p:growl`. Please make sure to enable CSV to use it.
  * Simple FileUpload: filename is not displayed by default when `auto=true`, set `displayFilename=true` instead if you need it.
  
## MenuBar

  * `delay` has been renamed `showDelay` and new `hideDelay` property added
  
## Paginator

  * All ARIA labels moved from server `Messages.properties` to client `locale-xx.js`
  
## PickList
  * `addLabel, addAllLabel, removeLabel, removeAllLabel, moveUpLabel,  moveTopLabel, moveDownLabel,  moveBottomLabel` properties have been moved to client side locale

## SelectOneRadio

  * `plain` attribute has been removed.

## File Upload

  * `org.primefaces.model.file.UploadedFile` now required new overridden method `getWebkitRelativePath()` see: https://github.com/primefaces/primefaces/pull/10272
  * Apache Commons FileUpload deprecated

## TreeTable

  * Removal of `cloneOnFilter` property, when custom node is used, component will systematically clone node by using either 3 args constructor, copy constructor or `Cloneable#clone` method 

## Tooltip

  * Update default of `showDelay` property from 150ms to 400ms to match jQuery defaults. 
